var k=Object.defineProperty;var Y=s=>{throw TypeError(s)};var ee=(s,e,r)=>e in s?k(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var F=(s,e,r)=>ee(s,typeof e!="symbol"?e+"":e,r),C=(s,e,r)=>e.has(s)||Y("Cannot "+r);var a=(s,e,r)=>(C(s,e,"read from private field"),r?r.call(s):e.get(s)),_=(s,e,r)=>e.has(s)?Y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),K=(s,e,r,t)=>(C(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{C as U,D as se,F as I,G as re,q as j,H as q,h as T,z as te,I as ie,J as ne,K as ae,a as fe,L as ce,M as ue,N as le,O as oe,B as de,P as $,Q as he,R as pe,d as Z,S as _e,U as D,x as L,V as ve,W as m,X as be,Y as J,g as y,i as Pe,Z as Se,_ as we,$ as ge,a0 as Oe,a1 as z,a2 as G,a3 as Re,l as xe,a4 as ye,a5 as Ae,a6 as w,a7 as Q,a8 as Ee,a9 as Ie}from"./Ar7G6yvD.js";var d,h,o,g,O,A;class Te{constructor(e,r=!0){F(this,"anchor");_(this,d,new Map);_(this,h,new Map);_(this,o,new Map);_(this,g,!0);_(this,O,()=>{var e=U;if(a(this,d).has(e)){var r=a(this,d).get(e),t=a(this,h).get(r);if(t)se(t);else{var i=a(this,o).get(r);i&&(a(this,h).set(r,i.effect),a(this,o).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[n,c]of a(this,d)){if(a(this,d).delete(n),n===e)break;const f=a(this,o).get(c);f&&(I(f.effect),a(this,o).delete(c))}for(const[n,c]of a(this,h)){if(n===r)continue;const f=()=>{if(Array.from(a(this,d).values()).includes(n)){var p=document.createDocumentFragment();ie(c,p),p.append(j()),a(this,o).set(n,{effect:c,fragment:p})}else I(c);a(this,h).delete(n)};a(this,g)||!t?re(c,f,!1):f()}}});_(this,A,e=>{a(this,d).delete(e);const r=Array.from(a(this,d).values());for(const[t,i]of a(this,o))r.includes(t)||(I(i.effect),a(this,o).delete(t))});this.anchor=e,K(this,g,r)}ensure(e,r){var t=U,i=ne();if(r&&!a(this,h).has(e)&&!a(this,o).has(e))if(i){var n=document.createDocumentFragment(),c=j();n.append(c),a(this,o).set(e,{effect:q(()=>r(c)),fragment:n})}else a(this,h).set(e,q(()=>r(this.anchor)));if(a(this,d).set(t,e),i){for(const[f,u]of a(this,h))f===e?t.skipped_effects.delete(u):t.skipped_effects.add(u);for(const[f,u]of a(this,o))f===e?t.skipped_effects.delete(u.effect):t.skipped_effects.add(u.effect);t.oncommit(a(this,O)),t.ondiscard(a(this,A))}else T&&(this.anchor=te),a(this,O).call(this)}}d=new WeakMap,h=new WeakMap,o=new WeakMap,g=new WeakMap,O=new WeakMap,A=new WeakMap;function Ye(s,e,r=!1){T&&fe();var t=new Te(s),i=r?ce:0;function n(c,f){if(T){const p=ue(s)===le;if(c===p){var u=oe();de(u),t.anchor=u,$(!1),t.ensure(c,f),$(!0);return}}t.ensure(c,f)}ae(()=>{var c=!1;e((f,u=!0)=>{c=!0,n(u,f)}),c||n(!1,null)},i)}function H(s,e){return s===e||(s==null?void 0:s[D])===e}function Fe(s={},e,r,t){return he(()=>{var i,n;return pe(()=>{i=n,n=[],Z(()=>{s!==r(...n)&&(e(s,...n),i&&H(r(...i),s)&&e(null,...i))})}),()=>{_e(()=>{n&&H(r(...n),s)&&e(null,...n)})}}),s}let x=!1;function me(s){var e=x;try{return x=!1,[s(),x]}finally{x=e}}const De={get(s,e){if(!s.exclude.includes(e))return y(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var t=L;try{G(s.parent_effect),s.special[e]=Me({get[e](){return s.props[e]}},e,J)}finally{G(t)}}return s.special[e](r),z(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),z(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Ce(s,e){return new Proxy({props:s,exclude:e,special:{},version:ve(0),parent_effect:L},De)}const Le={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let i=s.props[t];w(i)&&(i=i());const n=m(i,e);if(n&&n.set)return n.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=m(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(s,e){if(e===D||e===Q)return!1;for(let r of s.props)if(w(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(w(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Ke(...s){return new Proxy({props:s},Le)}function Me(s,e,r,t){var B;var i=!xe||(r&ye)!==0,n=(r&Re)!==0,c=(r&Ee)!==0,f=t,u=!0,p=()=>(u&&(u=!1,f=c?Z(t):t),f),b;if(n){var V=D in s||Q in s;b=((B=m(s,e))==null?void 0:B.set)??(V&&e in s?l=>s[e]=l:void 0)}var P,M=!1;n?[P,M]=me(()=>s[e]):P=s[e],P===void 0&&t!==void 0&&(P=p(),b&&(i&&be(),b(P)));var v;if(i?v=()=>{var l=s[e];return l===void 0?p():(u=!0,l)}:v=()=>{var l=s[e];return l!==void 0&&(f=void 0),l===void 0?f:l},i&&(r&J)===0)return v;if(b){var W=s.$$legacy;return(function(l,R){return arguments.length>0?((!i||!R||W||M)&&b(R?v():l),l):v()})}var E=!1,S=((r&Ae)!==0?Pe:Se)(()=>(E=!1,v()));n&&y(S);var X=L;return(function(l,R){if(arguments.length>0){const N=R?y(S):i&&n?we(l):l;return ge(S,N),E=!0,f!==void 0&&(f=N),l}return Ie&&E||(X.f&Oe)!==0?S.v:y(S)})}export{Te as B,Fe as b,Ye as i,Ce as l,Me as p,Ke as s};
