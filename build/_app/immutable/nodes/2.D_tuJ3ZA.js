import{b as uc,d as fc,a as z,c as ke,f as Y}from"../chunks/CIjbQGh9.js";import"../chunks/Bt2m1wd_.js";import{o as gc,a as ii}from"../chunks/DFGhlYuN.js";import{K as Ca,h as Ce,a as Ai,g as n,Z as Ar,M as vc,N as hc,O as $o,B as jn,P as Ln,z as wn,ac as pc,aA as mc,H as Pr,J as wc,C as an,ai as Mo,q as $i,aD as j,V as ko,ay as ms,aH as ws,aI as Sa,D as bs,G as bc,aJ as Ia,aK as yc,aL as oi,F as Or,au as _c,aM as Ac,ax as Ec,aN as Dc,x as ys,v as _s,aO as As,S as Mi,aP as Tc,aQ as Cc,L as Sc,aR as Ic,ap as Es,Q as Kn,d as G,R as Ds,f as Gn,aS as Pc,aT as Oc,aU as Nc,aV as Ts,aW as Cs,aX as xc,aY as Lc,aZ as Rc,a_ as $c,a$ as Mc,b0 as kc,b1 as zc,b2 as Uc,b3 as Fc,a6 as Wc,b4 as vr,aF as Ei,p as Ss,m as Is,s as I,n as D,o as E,k as ve,aG as Hc,b5 as Gc,b6 as lt,b7 as Bc,t as de,$ as s,aj as rn,b8 as hr,b9 as hn}from"../chunks/Ar7G6yvD.js";import{i as jc,a as Vc,c as Yc,d as Kc,n as qc,b as Zc,e as L,s as $e}from"../chunks/Dlx30cDz.js";import{B as Jc,l as ut,p as Fn,s as bt,i as re,b as si}from"../chunks/CY2igKzi.js";import{i as Ps}from"../chunks/CB5mG3Ky.js";import{s as vt}from"../chunks/Cbg4Mhli.js";let Rn=null;function zo(e){Rn=e}function Os(e,t){return t}function Xc(e,t,r){for(var a=e.items,l=[],c=t.length,u=0;u<c;u++)Ac(t[u].e,l,!0);var f=c>0&&l.length===0&&r!==null;if(f){var T=r.parentNode;Ec(T),T.append(r),a.clear(),jt(e,t[0].prev,t[c-1].next)}Dc(l,()=>{for(var m=0;m<c;m++){var A=t[m];f||(a.delete(A.k),jt(e,A.prev,A.next)),Or(A.e,!f)}})}function Nn(e,t,r,a,l,c=null){var u=e,f={flags:t,items:new Map,first:null},T=(t&As)!==0;if(T){var m=e;u=Ce?jn(_s(m)):m.appendChild($i())}Ce&&Ai();var A=null,O=!1,w=new Map,R=Ar(()=>{var P=r();return ws(P)?P:P==null?[]:ms(P)}),C,W;function x(){Qc(W,C,f,w,u,l,t,a,r),c!==null&&(C.length===0?A?bs(A):A=Pr(()=>c(u)):A!==null&&bc(A,()=>{A=null}))}Ca(()=>{W??(W=ys),C=n(R);var P=C.length;if(O&&P===0)return;O=P===0;let q=!1;if(Ce){var U=vc(u)===hc;U!==(P===0)&&(u=$o(),jn(u),Ln(!1),q=!0)}if(Ce){for(var Z=null,ae,$=0;$<P;$++){if(wn.nodeType===pc&&wn.data===mc){u=wn,q=!0,Ln(!1);break}var B=C[$],V=a(B,$);ae=Di(wn,f,Z,null,B,V,$,l,t,r),f.items.set(V,ae),Z=ae}P>0&&jn($o())}if(Ce)P===0&&c&&(A=Pr(()=>c(u)));else if(wc()){var le=new Set,Q=an;for($=0;$<P;$+=1){B=C[$],V=a(B,$);var ue=f.items.get(V)??w.get(V);ue?(t&(Ia|Sa))!==0&&Ns(ue,B,$,t):(ae=Di(null,f,null,null,B,V,$,l,t,r,!0),w.set(V,ae)),le.add(V)}for(const[ie,Ae]of f.items)le.has(ie)||Q.skipped_effects.add(Ae.e);Q.oncommit(x)}else x();q&&Ln(!0),n(R)}),Ce&&(u=wn)}function Qc(e,t,r,a,l,c,u,f,T){var Lt,Ee,ft,We;var m=(u&Tc)!==0,A=(u&(Ia|Sa))!==0,O=t.length,w=r.items,R=r.first,C=R,W,x=null,P,q=[],U=[],Z,ae,$,B;if(m)for(B=0;B<O;B+=1)Z=t[B],ae=f(Z,B),$=w.get(ae),$!==void 0&&((Lt=$.a)==null||Lt.measure(),(P??(P=new Set)).add($));for(B=0;B<O;B+=1){if(Z=t[B],ae=f(Z,B),$=w.get(ae),$===void 0){var V=a.get(ae);if(V!==void 0){a.delete(ae),w.set(ae,V);var le=x?x.next:C;jt(r,x,V),jt(r,V,le),li(V,le,l),x=V}else{var Q=C?C.e.nodes_start:l;x=Di(Q,r,x,x===null?r.first:x.next,Z,ae,B,c,u,T)}w.set(ae,x),q=[],U=[],C=x.next;continue}if(A&&Ns($,Z,B,u),($.e.f&oi)!==0&&(bs($.e),m&&((Ee=$.a)==null||Ee.unfix(),(P??(P=new Set)).delete($))),$!==C){if(W!==void 0&&W.has($)){if(q.length<U.length){var ue=U[0],ie;x=ue.prev;var Ae=q[0],Se=q[q.length-1];for(ie=0;ie<q.length;ie+=1)li(q[ie],ue,l);for(ie=0;ie<U.length;ie+=1)W.delete(U[ie]);jt(r,Ae.prev,Se.next),jt(r,x,Ae),jt(r,Se,ue),C=ue,x=Se,B-=1,q=[],U=[]}else W.delete($),li($,C,l),jt(r,$.prev,$.next),jt(r,$,x===null?r.first:x.next),jt(r,x,$),x=$;continue}for(q=[],U=[];C!==null&&C.k!==ae;)(C.e.f&oi)===0&&(W??(W=new Set)).add(C),U.push(C),C=C.next;if(C===null)continue;$=C}q.push($),x=$,C=$.next}if(C!==null||W!==void 0){for(var _e=W===void 0?[]:ms(W);C!==null;)(C.e.f&oi)===0&&_e.push(C),C=C.next;var we=_e.length;if(we>0){var ce=(u&As)!==0&&O===0?l:null;if(m){for(B=0;B<we;B+=1)(ft=_e[B].a)==null||ft.measure();for(B=0;B<we;B+=1)(We=_e[B].a)==null||We.fix()}Xc(r,_e,ce)}}m&&Mi(()=>{var Je;if(P!==void 0)for($ of P)(Je=$.a)==null||Je.apply()}),e.first=r.first&&r.first.e,e.last=x&&x.e;for(var je of a.values())Or(je.e);a.clear()}function Ns(e,t,r,a){(a&Ia)!==0&&Mo(e.v,t),(a&Sa)!==0?Mo(e.i,r):e.i=r}function Di(e,t,r,a,l,c,u,f,T,m,A){var O=Rn,w=(T&Ia)!==0,R=(T&yc)===0,C=w?R?j(l,!1,!1):ko(l):l,W=(T&Sa)===0?u:ko(u),x={i:W,v:C,k:c,a:null,e:null,prev:r,next:a};Rn=x;try{if(e===null){var P=document.createDocumentFragment();P.append(e=$i())}return x.e=Pr(()=>f(e,C,W,m),Ce),x.e.prev=r&&r.e,x.e.next=a&&a.e,r===null?A||(t.first=x):(r.next=x,r.e.next=x.e),a!==null&&(a.prev=x,a.e.prev=x.e),x}finally{Rn=O}}function li(e,t,r){for(var a=e.next?e.next.e.nodes_start:r,l=t?t.e.nodes_start:r,c=e.e.nodes_start;c!==null&&c!==a;){var u=_c(c);l.before(c),c=u}}function jt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ed(e,t,r,a,l,c){let u=Ce;Ce&&Ai();var f=null;Ce&&wn.nodeType===Cc&&(f=wn,Ai());var T=Ce?wn:e,m=Rn,A=new Jc(T,!1);Ca(()=>{const O=t()||null;var w=Ic;if(O===null){A.ensure(null,null);return}return A.ensure(O,R=>{var C=Rn;if(zo(m),O){if(f=Ce?f:document.createElementNS(w,O),uc(f,f),a){Ce&&jc(O)&&f.append(document.createComment(""));var W=Ce?_s(f):f.appendChild($i());Ce&&(W===null?Ln(!1):jn(W)),a(f,W)}ys.nodes_end=f,R.before(f)}zo(C),Ce&&jn(R)}),()=>{}},Sc),Es(()=>{}),u&&(Ln(!0),jn(T))}function td(e,t,r){Kn(()=>{var a=G(()=>t(e,r==null?void 0:r())||{});if(r&&(a!=null&&a.update)){var l=!1,c={};Ds(()=>{var u=r();Gn(u),l&&Pc(c,u)&&(c=u,a.update(u))}),l=!0}if(a!=null&&a.destroy)return()=>a.destroy()})}function nd(e,t){var r=void 0,a;Ca(()=>{r!==(r=t())&&(a&&(Or(a),a=null),r&&(a=Pr(()=>{Kn(()=>r(e))})))})}function xs(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=xs(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function rd(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=xs(e))&&(a&&(a+=" "),a+=t);return a}function ad(e){return typeof e=="object"?rd(e):e??""}const Uo=[...` 	
\r\fÂ \v\uFEFF`];function id(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var l in r)if(r[l])a=a?a+" "+l:l;else if(a.length)for(var c=l.length,u=0;(u=a.indexOf(l,u))>=0;){var f=u+c;(u===0||Uo.includes(a[u-1]))&&(f===a.length||Uo.includes(a[f]))?a=(u===0?"":a.substring(0,u))+a.substring(f+1):u=f}}return a===""?null:a}function Fo(e,t=!1){var r=t?" !important;":";",a="";for(var l in e){var c=e[l];c!=null&&c!==""&&(a+=" "+l+": "+c+r)}return a}function ci(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function od(e,t){if(t){var r="",a,l;if(Array.isArray(t)?(a=t[0],l=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var c=!1,u=0,f=!1,T=[];a&&T.push(...Object.keys(a).map(ci)),l&&T.push(...Object.keys(l).map(ci));var m=0,A=-1;const W=e.length;for(var O=0;O<W;O++){var w=e[O];if(f?w==="/"&&e[O-1]==="*"&&(f=!1):c?c===w&&(c=!1):w==="/"&&e[O+1]==="*"?f=!0:w==='"'||w==="'"?c=w:w==="("?u++:w===")"&&u--,!f&&c===!1&&u===0){if(w===":"&&A===-1)A=O;else if(w===";"||O===W-1){if(A!==-1){var R=ci(e.substring(m,A).trim());if(!T.includes(R)){w!==";"&&O++;var C=e.substring(m,O).trim();r+=" "+C+";"}}m=O+1,A=-1}}}}return a&&(r+=Fo(a)),l&&(r+=Fo(l,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function la(e,t,r,a,l,c){var u=e.__className;if(Ce||u!==r||u===void 0){var f=id(r,a,c);(!Ce||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):t?e.className=f:e.setAttribute("class",f)),e.__className=r}else if(c&&l!==c)for(var T in c){var m=!!c[T];(l==null||m!==!!l[T])&&e.classList.toggle(T,m)}return c}function di(e,t={},r,a){for(var l in r){var c=r[l];t[l]!==c&&(r[l]==null?e.style.removeProperty(l):e.style.setProperty(l,c,a))}}function Ke(e,t,r,a){var l=e.__style;if(Ce||l!==t){var c=od(t,a);(!Ce||c!==e.getAttribute("style"))&&(c==null?e.removeAttribute("style"):e.style.cssText=c),e.__style=t}else a&&(Array.isArray(a)?(di(e,r==null?void 0:r[0],a[0]),di(e,r==null?void 0:r[1],a[1],"important")):di(e,r,a));return a}function ga(e,t,r=!1){if(e.multiple){if(t==null)return;if(!ws(t))return Oc();for(var a of e.options)a.selected=t.includes(Dr(a));return}for(a of e.options){var l=Dr(a);if(Nc(l,t)){a.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ls(e){var t=new MutationObserver(()=>{ga(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Es(()=>{t.disconnect()})}function pr(e,t,r=t){var a=new WeakSet,l=!0;Ts(e,"change",c=>{var u=c?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(u),Dr);else{var T=e.querySelector(u)??e.querySelector("option:not([disabled])");f=T&&Dr(T)}r(f),an!==null&&a.add(an)}),Kn(()=>{var c=t();if(e===document.activeElement){var u=Cs??an;if(a.has(u))return}if(ga(e,c,l),l&&c===void 0){var f=e.querySelector(":checked");f!==null&&(c=Dr(f),r(c))}e.__value=c,l=!1}),Ls(e)}function Dr(e){return"__value"in e?e.__value:e.value}const mr=Symbol("class"),wr=Symbol("style"),Rs=Symbol("is custom element"),$s=Symbol("is html");function kt(e){if(Ce){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Re(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var l=e.checked;Re(e,"checked",null),e.checked=l}}};e.__on_r=r,Mi(r),Mc()}}function sd(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Re(e,t,r,a){var l=Ms(e);Ce&&(l[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||l[t]!==(l[t]=r)&&(t==="loading"&&(e[Uc]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ks(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ld(e,t,r,a,l=!1,c=!1){if(Ce&&l&&e.tagName==="INPUT"){var u=e,f=u.type==="checkbox"?"defaultChecked":"defaultValue";f in r||kt(u)}var T=Ms(e),m=T[Rs],A=!T[$s];let O=Ce&&m;O&&Ln(!1);var w=t||{},R=e.tagName==="OPTION";for(var C in t)C in r||(r[C]=null);r.class?r.class=ad(r.class):r[mr]&&(r.class=null),r[wr]&&(r.style??(r.style=null));var W=ks(e);for(const $ in r){let B=r[$];if(R&&$==="value"&&B==null){e.value=e.__value="",w[$]=B;continue}if($==="class"){var x=e.namespaceURI==="http://www.w3.org/1999/xhtml";la(e,x,B,a,t==null?void 0:t[mr],r[mr]),w[$]=B,w[mr]=r[mr];continue}if($==="style"){Ke(e,B,t==null?void 0:t[wr],r[wr]),w[$]=B,w[wr]=r[wr];continue}var P=w[$];if(!(B===P&&!(B===void 0&&e.hasAttribute($)))){w[$]=B;var q=$[0]+$[1];if(q!=="$$")if(q==="on"){const V={},le="$$"+$;let Q=$.slice(2);var U=Zc(Q);if(Vc(Q)&&(Q=Q.slice(0,-7),V.capture=!0),!U&&P){if(B!=null)continue;e.removeEventListener(Q,w[le],V),w[le]=null}if(B!=null)if(U)e[`__${Q}`]=B,Kc([Q]);else{let ue=function(ie){w[$].call(this,ie)};w[le]=Yc(Q,e,ue,V)}else U&&(e[`__${Q}`]=void 0)}else if($==="style")Re(e,$,B);else if($==="autofocus")Rc(e,!!B);else if(!m&&($==="__value"||$==="value"&&B!=null))e.value=e.__value=B;else if($==="selected"&&R)sd(e,B);else{var Z=$;A||(Z=qc(Z));var ae=Z==="defaultValue"||Z==="defaultChecked";if(B==null&&!m&&!ae)if(T[$]=null,Z==="value"||Z==="checked"){let V=e;const le=t===void 0;if(Z==="value"){let Q=V.defaultValue;V.removeAttribute(Z),V.defaultValue=Q,V.value=V.__value=le?Q:null}else{let Q=V.defaultChecked;V.removeAttribute(Z),V.defaultChecked=Q,V.checked=le?Q:!1}}else e.removeAttribute($);else ae||W.includes(Z)&&(m||typeof B!="string")?(e[Z]=B,Z in T&&(T[Z]=$c)):typeof B!="function"&&Re(e,Z,B)}}}return O&&Ln(!0),w}function Wo(e,t,r=[],a=[],l=[],c,u=!1,f=!1){xc(l,r,a,T=>{var m=void 0,A={},O=e.nodeName==="SELECT",w=!1;if(Ca(()=>{var C=t(...T.map(n)),W=ld(e,m,C,c,u,f);w&&O&&"value"in C&&ga(e,C.value);for(let P of Object.getOwnPropertySymbols(A))C[P]||Or(A[P]);for(let P of Object.getOwnPropertySymbols(C)){var x=C[P];P.description===Lc&&(!m||x!==m[P])&&(A[P]&&Or(A[P]),A[P]=Pr(()=>nd(e,()=>x))),W[P]=x}m=W}),O){var R=e;Kn(()=>{ga(R,m.value,!0),Ls(R)})}w=!0})}function Ms(e){return e.__attributes??(e.__attributes={[Rs]:e.nodeName.includes("-"),[$s]:e.namespaceURI===kc})}var Ho=new Map;function ks(e){var t=e.getAttribute("is")||e.nodeName,r=Ho.get(t);if(r)return r;Ho.set(t,r=[]);for(var a,l=e,c=Element.prototype;c!==l;){a=Fc(l);for(var u in a)a[u].set&&r.push(u);l=zc(l)}return r}const cd=()=>performance.now(),on={tick:e=>requestAnimationFrame(e),now:()=>cd(),tasks:new Set};function zs(){const e=on.now();on.tasks.forEach(t=>{t.c(e)||(on.tasks.delete(t),t.f())}),on.tasks.size!==0&&on.tick(zs)}function dd(e){let t;return on.tasks.size===0&&on.tick(zs),{promise:new Promise(r=>{on.tasks.add(t={c:e,f:r})}),abort(){on.tasks.delete(t)}}}function ud(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Go(e){const t={},r=e.split(";");for(const a of r){const[l,c]=a.split(":");if(!l||c===void 0)break;const u=ud(l.trim());t[u]=c.trim()}return t}const fd=e=>e;function gd(e,t,r){var a=Rn,l,c,u,f=null;a.a??(a.a={element:e,measure(){l=this.element.getBoundingClientRect()},apply(){if(u==null||u.abort(),c=this.element.getBoundingClientRect(),l.left!==c.left||l.right!==c.right||l.top!==c.top||l.bottom!==c.bottom){const T=t()(this.element,{from:l,to:c},r==null?void 0:r());u=Us(this.element,T,void 0,1,()=>{u==null||u.abort(),u=void 0})}},fix(){if(!e.getAnimations().length){var{position:T,width:m,height:A}=getComputedStyle(e);if(T!=="absolute"&&T!=="fixed"){var O=e.style;f={position:O.position,width:O.width,height:O.height,transform:O.transform},O.position="absolute",O.width=m,O.height=A;var w=e.getBoundingClientRect();if(l.left!==w.left||l.top!==w.top){var R=`translate(${l.left-w.left}px, ${l.top-w.top}px)`;O.transform=O.transform?`${O.transform} ${R}`:R}}}},unfix(){if(f){var T=e.style;T.position=f.position,T.width=f.width,T.height=f.height,T.transform=f.transform}}}),a.a.element=e}function Us(e,t,r,a,l){if(Wc(t)){var c,u=!1;return Mi(()=>{if(!u){var W=t({direction:"in"});c=Us(e,W,r,a,l)}}),{abort:()=>{u=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(!(t!=null&&t.duration))return l(),{abort:vr,deactivate:vr,reset:vr,t:()=>a};const{delay:f=0,css:T,tick:m,easing:A=fd}=t;var O=[];if(m&&m(0,1),T){var w=Go(T(0,1));O.push(w,w)}var R=()=>1-a,C=e.animate(O,{duration:f,fill:"forwards"});return C.onfinish=()=>{C.cancel();var W=1-a,x=a-W,P=t.duration*Math.abs(x),q=[];if(P>0){var U=!1;if(T)for(var Z=Math.ceil(P/16.666666666666668),ae=0;ae<=Z;ae+=1){var $=W+x*A(ae/Z),B=Go(T($,1-$));q.push(B),U||(U=B.overflow==="hidden")}U&&(e.style.overflow="hidden"),R=()=>{var V=C.currentTime;return W+x*A(V/P)},m&&dd(()=>{if(C.playState!=="running")return!1;var V=R();return m(V,1-V),!0})}C=e.animate(q,{duration:P,fill:"forwards"}),C.onfinish=()=>{R=()=>a,m==null||m(a,1-a),l()}},{abort:()=>{C&&(C.cancel(),C.effect=null,C.onfinish=vr)},deactivate:()=>{l=vr},reset:()=>{},t:()=>R()}}function Bt(e,t,r=t){var a=new WeakSet;Ts(e,"input",async l=>{var c=l?e.defaultValue:e.value;if(c=ui(e)?fi(c):c,r(c),an!==null&&a.add(an),await Ei(),c!==(c=t())){var u=e.selectionStart,f=e.selectionEnd,T=e.value.length;if(e.value=c??"",f!==null){var m=e.value.length;u===f&&f===T&&m>T?(e.selectionStart=m,e.selectionEnd=m):(e.selectionStart=u,e.selectionEnd=Math.min(f,m))}}}),(Ce&&e.defaultValue!==e.value||G(t)==null&&e.value)&&(r(ui(e)?fi(e.value):e.value),an!==null&&a.add(an)),Ds(()=>{var l=t();if(e===document.activeElement){var c=Cs??an;if(a.has(c))return}ui(e)&&l===fi(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function ui(e){var t=e.type;return t==="number"||t==="range"}function fi(e){return e===""?null:+e}function vd(e){return function(...t){var r=t[0];r.target===this&&(e==null||e.apply(this,t))}}function ra(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bo(Object(r),!0).forEach(function(a){qn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bn(e){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(e)}function qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hd(e,t){if(e==null)return{};var r={},a=Object.keys(e),l,c;for(c=0;c<a.length;c++)l=a[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function pd(e,t){if(e==null)return{};var r=hd(e,t),a,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)a=c[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function md(e,t){return bd(e)||_d(e,t)||ki(e,t)||Ed()}function Nt(e){return wd(e)||yd(e)||ki(e)||Ad()}function wd(e){if(Array.isArray(e))return Ti(e)}function bd(e){if(Array.isArray(e))return e}function yd(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _d(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],l=!0,c=!1,u,f;try{for(r=r.call(e);!(l=(u=r.next()).done)&&(a.push(u.value),!(t&&a.length===t));l=!0);}catch(T){c=!0,f=T}finally{try{!l&&r.return!=null&&r.return()}finally{if(c)throw f}}return a}}function ki(e,t){if(e){if(typeof e=="string")return Ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ti(e,t)}}function Ti(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ad(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ed(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rr(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ki(e))||t){r&&(e=r);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(T){throw T},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,u=!1,f;return{s:function(){r=r.call(e)},n:function(){var T=r.next();return c=T.done,T},e:function(T){u=!0,f=T},f:function(){try{!c&&r.return!=null&&r.return()}finally{if(u)throw f}}}}var Dd="finalize",Td="consider";function Zn(e,t,r){e.dispatchEvent(new CustomEvent(Dd,{detail:{items:t,info:r}}))}function _n(e,t,r){e.dispatchEvent(new CustomEvent(Td,{detail:{items:t,info:r}}))}var Pa="draggedEntered",$r="draggedLeft",Oa="draggedOverIndex",zi="draggedLeftDocument",ha={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Cd(e,t,r){e.dispatchEvent(new CustomEvent(Pa,{detail:{indexObj:t,draggedEl:r}}))}function Sd(e,t,r){e.dispatchEvent(new CustomEvent($r,{detail:{draggedEl:t,type:ha.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Id(e,t){e.dispatchEvent(new CustomEvent($r,{detail:{draggedEl:t,type:ha.OUTSIDE_OF_ANY}}))}function Pd(e,t,r){e.dispatchEvent(new CustomEvent(Oa,{detail:{indexObj:t,draggedEl:r}}))}function Od(e){window.dispatchEvent(new CustomEvent(zi,{detail:{draggedEl:e}}))}var Ze={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Pa,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Oa,DRAGGED_LEFT:$r,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},gt={POINTER:"pointer",KEYBOARD:"keyboard"},Na="isDndShadowItem",xa="data-is-dnd-shadow-item-internal",Nd="data-is-dnd-shadow-item-hint",Fs="id:dnd-shadow-placeholder-0000",xd="dnd-action-dragged-el",Be="id",Ci=0;function Ws(){Ci++}function Hs(){if(Ci===0)throw new Error("Bug! trying to decrement when there are no dropzones");Ci--}var Ui=typeof window>"u";function Si(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?$d(e):e.getBoundingClientRect(),l=getComputedStyle(e),c=l.transform;if(c){var u,f,T,m;if(c.startsWith("matrix3d("))r=c.slice(9,-1).split(/, /),u=+r[0],f=+r[5],T=+r[12],m=+r[13];else if(c.startsWith("matrix("))r=c.slice(7,-1).split(/, /),u=+r[0],f=+r[3],T=+r[4],m=+r[5];else return a;var A=l.transformOrigin,O=a.x-T-(1-u)*parseFloat(A),w=a.y-m-(1-f)*parseFloat(A.slice(A.indexOf(" ")+1)),R=u?a.width/u:e.offsetWidth,C=f?a.height/f:e.offsetHeight;return{x:O,y:w,width:R,height:C,top:w,right:O+R,bottom:w+C,left:O}}else return a}function Gs(e){var t=Si(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Bs(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function js(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Ld(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function La(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Nr(e){return js(Bs(e))}function jo(e,t){var r=Nr(e),a=Gs(t);return La(r,a)}function Vo(e,t){var r=Nr(e),a=Nr(t);return Ld(r,a)}function Rd(e){var t=Bs(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function $d(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,l=!1,c=e.parentElement;c&&c!==document.body;){var u=window.getComputedStyle(c),f=u.overflowY,T=u.overflowX,m=f==="scroll"||f==="auto",A=T==="scroll"||T==="auto";if(m||A){var O=c.getBoundingClientRect();if(m){var w=Math.max(r.top,O.top),R=Math.min(r.bottom,O.bottom);(w!==r.top||R!==r.bottom)&&(a=!0),r.top=w,r.bottom=R}if(A){var C=Math.max(r.left,O.left),W=Math.min(r.right,O.right);(C!==r.left||W!==r.right)&&(l=!0),r.left=C,r.right=W}}c=c.parentElement}return a||l?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Vn;function Fi(){Vn=new Map}Fi();function Md(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(xa)});if(t>=0)return Vn.has(e)||Vn.set(e,new Map),Vn.get(e).set(t,Gs(e.children[t])),t}function kd(e,t){if(!jo(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=Md(t),l=0;l<r.length;l++)if(jo(e,r[l])){var c=Vn.has(t)&&Vn.get(t).get(l);return c&&!La(Nr(e),c)?{index:a,isProximityBased:!1}:{index:l,isProximityBased:!1}}for(var u=Number.MAX_VALUE,f=void 0,T=0;T<r.length;T++){var m=Vo(e,r[T]);m<u&&(u=m,f=T)}if(r.length>0){var A=r.length,O=r[A-1],w=O.cloneNode(!1);w.style.visibility="hidden",w.style.pointerEvents="none",t.appendChild(w);var R=Vo(e,w);R<u&&(f=A),t.removeChild(w)}return{index:f,isProximityBased:!0}}function br(e){return JSON.stringify(e,null,2)}function pa(e){if(!e)throw new Error("cannot get depth of a falsy node");return Vs(e,0)}function Vs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Vs(e.parentElement,t+1):t-1}function zd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Ud(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Fd=200,Yo=10,Ii;function Wd(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fd,a=arguments.length>3?arguments[3]:void 0,l,c,u=!1,f,T=Array.from(t).sort(function(A,O){return pa(O)-pa(A)});function m(){var A=Nr(e),O=a.multiScrollIfNeeded();if(!O&&f&&Math.abs(f.x-A.x)<Yo&&Math.abs(f.y-A.y)<Yo){Ii=window.setTimeout(m,r);return}if(Rd(e)){Od(e);return}f=A;var w=!1,R=Rr(T),C;try{for(R.s();!(C=R.n()).done;){var W=C.value;O&&Fi();var x=kd(e,W);if(x!==null){var P=x.index;w=!0,W!==l?(l&&Sd(l,e,W),Cd(W,x,e),l=W):P!==c&&(Pd(W,x,e),c=P);break}}}catch(q){R.e(q)}finally{R.f()}!w&&u&&l?(Id(l,e),l=void 0,c=void 0,u=!1):u=!0,Ii=window.setTimeout(m,r)}m()}function Hd(){clearTimeout(Ii),Fi()}var yr=30;function Gd(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(c){var u=e,f=u.directionObj,T=u.stepPx;f&&(c.scrollBy(f.x*T,f.y*T),window.requestAnimationFrame(function(){return r(c)}))}function a(c){return yr-c}function l(c,u){if(!u)return!1;var f=Bd(c,u),T=!!e.directionObj;if(f===null)return T&&t(),!1;var m=!1,A=!1;return u.scrollHeight>u.clientHeight&&(f.bottom<yr?(m=!0,e.directionObj={x:0,y:1},e.stepPx=a(f.bottom)):f.top<yr&&(m=!0,e.directionObj={x:0,y:-1},e.stepPx=a(f.top)),!T&&m)||u.scrollWidth>u.clientWidth&&(f.right<yr?(A=!0,e.directionObj={x:1,y:0},e.stepPx=a(f.right)):f.left<yr&&(A=!0,e.directionObj={x:-1,y:0},e.stepPx=a(f.left)),!T&&A)?(r(u),!0):(t(),!1)}return{scrollIfNeeded:l,resetScrolling:t}}function Bd(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return La(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function jd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Yd(e),a=Array.from(r).sort(function(T,m){return pa(m)-pa(T)}),l=Gd(),c=l.scrollIfNeeded,u=l.resetScrolling;function f(){var T=t();if(!T||!a)return!1;for(var m=a.filter(function(w){return La(T,w.getBoundingClientRect())||w===document.scrollingElement}),A=0;A<m.length;A++){var O=c(T,m[A]);if(O)return!0}return!1}return{multiScrollIfNeeded:r.size>0?f:function(){return!1},destroy:function(){return u()}}}function Vd(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),l=a.overflow;l.split(" ").some(function(c){return c.includes("auto")||c.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Yd(e){var t=new Set,r=Rr(e),a;try{for(r.s();!(a=r.n()).done;){var l=a.value;Vd(l).forEach(function(c){return t.add(c)})}}catch(c){r.e(c)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Kd(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",l=a?[e]:Nt(e.querySelectorAll("select")),c=Rr(l),u;try{for(c.s();!(u=c.n()).done;){var f=u.value;r.push(f.value)}}catch(U){c.e(U)}finally{c.f()}if(l.length>0)for(var T=a?[t]:Nt(t.querySelectorAll("select")),m=0;m<T.length;m++){var A=T[m],O=r[m],w=A.querySelector('option[value="'.concat(O,'"'));w&&w.setAttribute("selected",!0)}var R=e.tagName==="CANVAS",C=R?[e]:Nt(e.querySelectorAll("canvas"));if(C.length>0)for(var W=R?[t]:Nt(t.querySelectorAll("canvas")),x=0;x<W.length;x++){var P=C[x],q=W[x];q.width=P.width,q.height=P.height,P.width>0&&P.height>0&&q.getContext("2d").drawImage(P,0,0)}return t}var xr=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),qd=qn({},xr.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Ys(e){if(!xr[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(xr)));return qd[e]}var Zd=.2;function On(e){return"".concat(e," ").concat(Zd,"s ease")}function Jd(e,t){var r=e.getBoundingClientRect(),a=Kd(e);Ks(e,a),a.id=xd,a.style.position="fixed";var l=r.top,c=r.left;if(a.style.top="".concat(l,"px"),a.style.left="".concat(c,"px"),t){var u=js(r);l-=u.y-t.y,c-=u.x-t.x,window.setTimeout(function(){a.style.top="".concat(l,"px"),a.style.left="".concat(c,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(On("top"),", ").concat(On("left"),", ").concat(On("background-color"),", ").concat(On("opacity"),", ").concat(On("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(On("width"),", ").concat(On("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Xd(e){e.style.cursor="grab"}function Qd(e,t,r,a){Ks(t,e);var l=t.getBoundingClientRect(),c=e.getBoundingClientRect(),u=l.width-c.width,f=l.height-c.height;if(u||f){var T={left:(r-c.left)/c.width,top:(a-c.top)/c.height};Ys(xr.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(l.height,"px"),e.style.width="".concat(l.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-T.left*u,"px"),e.style.top="".concat(parseFloat(e.style.top)-T.top*f,"px")}}function Ks(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||Ys(xr.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function eu(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function qs(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function tu(e){e.style.visibility="hidden",e.setAttribute(xa,"true")}function nu(e){e.style.visibility="",e.removeAttribute(xa)}function ca(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var l=t(a);Object.keys(l).forEach(function(c){a.style[c]=l[c]}),r(a).forEach(function(c){return a.classList.add(c)})})}function ma(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var l=t(a);Object.keys(l).forEach(function(c){a.style[c]=""}),r(a).forEach(function(c){return a.classList.contains(c)&&a.classList.remove(c)})})}function ru(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var au="--any--",iu=100,ou=20,aa=3,su=80,Ko={outline:"rgba(255, 255, 102, 0.7) solid 2px"},qo="data-is-dnd-original-dragged-item",mt,qe,wt,Ra,Pe,$a,yn,it,Vt,ct,pn=!1,Wi=!1,Hi,Mr=!1,da=[],Tr,Yt,Er=!1,Ut=new Map,Me=new Map,gi=new WeakMap;function lu(e,t){Ut.has(t)||Ut.set(t,new Set),Ut.get(t).has(e)||(Ut.get(t).add(e),Ws())}function Zo(e,t){Ut.get(t).delete(e),Hs(),Ut.get(t).size===0&&Ut.delete(t)}function cu(){var e=Ut.get(Ra),t=Rr(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(Pa,Zs),a.addEventListener($r,Js),a.addEventListener(Oa,Xs)}}catch(u){t.e(u)}finally{t.f()}window.addEventListener(zi,Jn);var l=Math.max.apply(Math,Nt(Array.from(e.keys()).map(function(u){return Me.get(u).dropAnimationDurationMs}))),c=l===0?ou:Math.max(l,iu);Tr=jd(e,function(){return ct}),Wd(qe,e,c*1.07,Tr)}function du(){var e=Ut.get(Ra),t=Rr(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(Pa,Zs),a.removeEventListener($r,Js),a.removeEventListener(Oa,Xs)}}catch(l){t.e(l)}finally{t.f()}window.removeEventListener(zi,Jn),Tr&&(Tr.destroy(),Tr=void 0),Hd()}function Ma(e){return e.findIndex(function(t){return!!t[Na]})}function uu(e){var t;return va(va({},e),{},(t={},qn(t,Na,!0),qn(t,Be,Fs),t))}function Zs(e){var t=Me.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==Pe)){if(Mr=!1,r=r.filter(function(f){return f[Be]!==yn[Be]&&f[Be]!==Fs}),Pe!==e.currentTarget){var l=Me.get(Pe).items,c=l.filter(function(f){return!f[Na]});_n(Pe,c,{trigger:Ze.DRAGGED_ENTERED_ANOTHER,id:wt[Be],source:gt.POINTER})}var u=e.detail.indexObj.index;it=e.currentTarget,r.splice(u,0,yn),_n(e.currentTarget,r,{trigger:Ze.DRAGGED_ENTERED,id:wt[Be],source:gt.POINTER})}}function Js(e){if(pn){var t=Me.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==Pe&&e.currentTarget!==it)){var l=Nt(r),c=Ma(l);c!==-1&&l.splice(c,1);var u=it;it=void 0;var f=e.detail,T=f.type,m=f.theOtherDz;if(T===ha.OUTSIDE_OF_ANY||T===ha.LEFT_FOR_ANOTHER&&m!==Pe&&Me.get(m).dropFromOthersDisabled){Mr=!0,it=Pe;var A=u===Pe?l:Nt(Me.get(Pe).items);A.splice($a,0,yn),_n(Pe,A,{trigger:Ze.DRAGGED_LEFT_ALL,id:wt[Be],source:gt.POINTER})}_n(e.currentTarget,l,{trigger:Ze.DRAGGED_LEFT,id:wt[Be],source:gt.POINTER})}}}function Xs(e){var t=Me.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==Pe)){var l=Nt(r);Mr=!1;var c=e.detail.indexObj.index,u=Ma(l);u!==-1&&l.splice(u,1),l.splice(c,0,yn),_n(e.currentTarget,l,{trigger:Ze.DRAGGED_OVER_INDEX,id:wt[Be],source:gt.POINTER})}}function wa(e){e.preventDefault();var t=e.touches?e.touches[0]:e;ct={x:t.clientX,y:t.clientY},qe.style.transform="translate3d(".concat(ct.x-Vt.x,"px, ").concat(ct.y-Vt.y,"px, 0)")}function Jn(){Wi=!0,window.removeEventListener("mousemove",wa),window.removeEventListener("touchmove",wa),window.removeEventListener("mouseup",Jn),window.removeEventListener("touchend",Jn),du(),Xd(qe),it||(it=Pe);var e=Me.get(it),t=e.items,r=e.type;ma(Ut.get(r),function(c){return Me.get(c).dropTargetStyle},function(c){return Me.get(c).dropTargetClasses});var a=Ma(t);a===-1&&it===Pe&&(a=$a),t=t.map(function(c){return c[Na]?wt:c});function l(){Hi(),Zn(it,t,{trigger:Mr?Ze.DROPPED_OUTSIDE_OF_ANY:Ze.DROPPED_INTO_ZONE,id:wt[Be],source:gt.POINTER}),it!==Pe&&Zn(Pe,Me.get(Pe).items,{trigger:Ze.DROPPED_INTO_ANOTHER,id:wt[Be],source:gt.POINTER});var c=Array.from(it.children).find(function(u){return u.getAttribute(xa)});c&&nu(c),vu()}Me.get(it).dropAnimationDisabled?l():fu(a,l)}function fu(e,t){var r=e>-1?Si(it.children[e],!1):Si(it,!1),a={x:r.left-parseFloat(qe.style.left),y:r.top-parseFloat(qe.style.top)},l=Me.get(it),c=l.dropAnimationDurationMs,u="transform ".concat(c,"ms ease");qe.style.transition=qe.style.transition?qe.style.transition+","+u:u,qe.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,c)}function gu(e,t){da.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){qs(e),document.body.appendChild(e)})}function vu(){qe&&qe.remove&&qe.remove(),mt&&mt.remove&&mt.remove(),qe=void 0,mt=void 0,wt=void 0,Ra=void 0,Pe=void 0,$a=void 0,yn=void 0,it=void 0,Vt=void 0,ct=void 0,pn=!1,Wi=!1,Hi=void 0,Mr=!1,Yt&&clearTimeout(Yt),Yt=void 0,Er=!1,da.length&&(da.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),da=[])}function hu(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ko,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},l=new Map;function c(){window.addEventListener("mousemove",T,{passive:!1}),window.addEventListener("touchmove",T,{passive:!1,capture:!1}),window.addEventListener("mouseup",f,{passive:!1}),window.addEventListener("touchend",f,{passive:!1})}function u(){window.removeEventListener("mousemove",T),window.removeEventListener("touchmove",T),window.removeEventListener("mouseup",f),window.removeEventListener("touchend",f),Yt&&(clearTimeout(Yt),Yt=void 0,Er=!1)}function f(w){if(u(),mt=void 0,Vt=void 0,ct=void 0,w.type==="touchend"){var R=new Event("click",{bubbles:!0,cancelable:!0});w.target.dispatchEvent(R)}}function T(w){var R=!!w.touches,C=R?w.touches[0]:w;if(R&&a.delayTouchStartMs>0&&!Er){ct={x:C.clientX,y:C.clientY},(Math.abs(ct.x-Vt.x)>=aa||Math.abs(ct.y-Vt.y)>=aa)&&(Yt&&(clearTimeout(Yt),Yt=void 0),f(w));return}w.preventDefault(),ct={x:C.clientX,y:C.clientY},(Math.abs(ct.x-Vt.x)>=aa||Math.abs(ct.y-Vt.y)>=aa)&&(u(),A())}function m(w){if(!(w.target!==w.currentTarget&&(w.target.value!==void 0||w.target.isContentEditable))&&!w.button&&!pn){var R=!!w.touches,C=R&&a.delayTouchStartMs>0;C||w.preventDefault(),w.stopPropagation();var W=R?w.touches[0]:w;Vt={x:W.clientX,y:W.clientY},ct=va({},Vt),mt=w.currentTarget,C&&(Er=!1,Yt=window.setTimeout(function(){mt&&(Er=!0,u(),A())},a.delayTouchStartMs)),c()}}function A(){pn=!0;var w=l.get(mt);$a=w,Pe=mt.parentElement;var R=Pe.closest("dialog")||Pe.closest("[popover]")||Pe.getRootNode(),C=R.body||R,W=a.items,x=a.type,P=a.centreDraggedOnCursor,q=Nt(W);wt=q[w],Ra=x,yn=uu(wt),qe=Jd(mt,P&&ct),C.appendChild(qe);function U(){mt.parentElement?window.requestAnimationFrame(U):(mt.setAttribute(qo,!0),C.appendChild(mt),cu(),qs(mt),yn[Be]=wt[Be],qe.focus())}window.requestAnimationFrame(U),ca(Array.from(Ut.get(a.type)).filter(function(Z){return Z===Pe||!Me.get(Z).dropFromOthersDisabled}),function(Z){return Me.get(Z).dropTargetStyle},function(Z){return Me.get(Z).dropTargetClasses}),q.splice(w,1,yn),Hi=ru(Pe),_n(Pe,q,{trigger:Ze.DRAG_STARTED,id:wt[Be],source:gt.POINTER}),window.addEventListener("mousemove",wa,{passive:!1}),window.addEventListener("touchmove",wa,{passive:!1,capture:!1}),window.addEventListener("mouseup",Jn,{passive:!1}),window.addEventListener("touchend",Jn,{passive:!1})}function O(w){var R=w.items,C=R===void 0?void 0:R,W=w.flipDurationMs,x=W===void 0?0:W,P=w.type,q=P===void 0?au:P,U=w.dragDisabled,Z=U===void 0?!1:U,ae=w.morphDisabled,$=ae===void 0?!1:ae,B=w.dropFromOthersDisabled,V=B===void 0?!1:B,le=w.dropTargetStyle,Q=le===void 0?Ko:le,ue=w.dropTargetClasses,ie=ue===void 0?[]:ue,Ae=w.transformDraggedElement,Se=Ae===void 0?function(){}:Ae,_e=w.centreDraggedOnCursor,we=_e===void 0?!1:_e,ce=w.dropAnimationDisabled,je=ce===void 0?!1:ce,Lt=w.delayTouchStart,Ee=Lt===void 0?!1:Lt;a.dropAnimationDurationMs=x;var ft=0;Ee===!0?ft=su:typeof Ee=="number"&&isFinite(Ee)&&Ee>=0&&(ft=Ee),a.delayTouchStartMs=ft,a.type&&q!==a.type&&Zo(e,a.type),a.type=q,a.items=Nt(C),a.dragDisabled=Z,a.morphDisabled=$,a.transformDraggedElement=Se,a.centreDraggedOnCursor=we,a.dropAnimationDisabled=je,r&&pn&&!Wi&&(!zd(Q,a.dropTargetStyle)||!Ud(ie,a.dropTargetClasses))&&(ma([e],function(){return a.dropTargetStyle},function(){return ie}),ca([e],function(){return Q},function(){return ie})),a.dropTargetStyle=Q,a.dropTargetClasses=Nt(ie);function We(Dt,Mn){return Me.get(Dt)?Me.get(Dt)[Mn]:a[Mn]}r&&pn&&a.dropFromOthersDisabled!==V&&(V?ma([e],function(Dt){return We(Dt,"dropTargetStyle")},function(Dt){return We(Dt,"dropTargetClasses")}):ca([e],function(Dt){return We(Dt,"dropTargetStyle")},function(Dt){return We(Dt,"dropTargetClasses")})),a.dropFromOthersDisabled=V,Me.set(e,a),lu(e,q);for(var Je=pn?Ma(a.items):-1,Xe=0;Xe<e.children.length;Xe++){var Qe=e.children[Xe];if(eu(Qe,Z),Xe===Je){$||Qd(qe,Qe,ct.x,ct.y),a.transformDraggedElement(qe,wt,Xe),tu(Qe);continue}Qe.removeEventListener("mousedown",gi.get(Qe)),Qe.removeEventListener("touchstart",gi.get(Qe)),Z||(Qe.addEventListener("mousedown",m),Qe.addEventListener("touchstart",m),gi.set(Qe,m)),l.set(Qe,Xe),r||(r=!0)}}return O(t),{update:function(R){O(R)},destroy:function(){function R(){Zo(e,Me.get(e).type),Me.delete(e)}pn&&!e.closest("[".concat(qo,"]"))?gu(e,R):R()}}}var ia,Pi={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Qs=(ia={},qn(ia,Pi.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),qn(ia,Pi.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),ia),pu="dnd-action-aria-alert",Fe;function Oi(){Fe||(Fe=document.createElement("div"),(function(){Fe.id=pu,Fe.style.position="fixed",Fe.style.bottom="0",Fe.style.left="0",Fe.style.zIndex="-5",Fe.style.opacity="0",Fe.style.height="0",Fe.style.width="0",Fe.setAttribute("role","alert")})(),document.body.prepend(Fe),Object.entries(Qs).forEach(function(e){var t=md(e,2),r=t[0],a=t[1];return document.body.prepend(bu(r,a))}))}function mu(){return Ui?null:(document.readyState==="complete"?Oi():window.addEventListener("DOMContentLoaded",Oi),va({},Pi))}function wu(){Ui||!Fe||(Object.keys(Qs).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),Fe.remove(),Fe=void 0)}function bu(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Yn(e){if(!Ui){Fe||Oi(),Fe.innerHTML="";var t=document.createTextNode(e);Fe.appendChild(t),Fe.style.display="none",Fe.style.display="inline"}}var yu="--any--",Jo={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ot=!1,Ni,dt,$n="",xn,Kt,bn="",ba=new WeakSet,Xo=new WeakMap,Qo=new WeakMap,xi=new Map,rt=new Map,zt=new Map,ya;function _u(e,t){zt.size===0&&(ya=mu(),window.addEventListener("keydown",el),window.addEventListener("click",tl)),zt.has(t)||zt.set(t,new Set),zt.get(t).has(e)||(zt.get(t).add(e),Ws())}function es(e,t){dt===e&&Lr(),zt.get(t).delete(e),Hs(),zt.get(t).size===0&&zt.delete(t),zt.size===0&&(window.removeEventListener("keydown",el),window.removeEventListener("click",tl),ya=void 0,wu())}function el(e){if(Ot)switch(e.key){case"Escape":{Lr();break}}}function tl(){Ot&&(ba.has(document.activeElement)||Lr())}function Au(e){if(Ot){var t=e.currentTarget;if(t!==dt){$n=t.getAttribute("aria-label")||"";var r=rt.get(dt),a=r.items,l=a.find(function(O){return O[Be]===Kt}),c=a.indexOf(l),u=a.splice(c,1)[0],f=rt.get(t),T=f.items,m=f.autoAriaDisabled;t.getBoundingClientRect().top<dt.getBoundingClientRect().top||t.getBoundingClientRect().left<dt.getBoundingClientRect().left?(T.push(u),m||Yn("Moved item ".concat(bn," to the end of the list ").concat($n))):(T.unshift(u),m||Yn("Moved item ".concat(bn," to the beginning of the list ").concat($n)));var A=dt;Zn(A,a,{trigger:Ze.DROPPED_INTO_ANOTHER,id:Kt,source:gt.KEYBOARD}),Zn(t,T,{trigger:Ze.DROPPED_INTO_ZONE,id:Kt,source:gt.KEYBOARD}),dt=t}}}function nl(){xi.forEach(function(e,t){var r=e.update;return r(rt.get(t))})}function Lr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;rt.get(dt).autoAriaDisabled||Yn("Stopped dragging item ".concat(bn)),ba.has(document.activeElement)&&document.activeElement.blur(),e&&_n(dt,rt.get(dt).items,{trigger:Ze.DRAG_STOPPED,id:Kt,source:gt.KEYBOARD}),ma(zt.get(Ni),function(t){return rt.get(t).dropTargetStyle},function(t){return rt.get(t).dropTargetClasses}),xn=null,Kt=null,bn="",Ni=null,dt=null,$n="",Ot=!1,nl()}function Eu(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Jo,dropTargetClasses:[],autoAriaDisabled:!1};function a(A,O,w){A.length<=1||A.splice(w,1,A.splice(O,1,A[w])[0])}function l(A){switch(A.key){case"Enter":case" ":{if((A.target.disabled!==void 0||A.target.href||A.target.isContentEditable)&&!ba.has(A.target))return;A.preventDefault(),A.stopPropagation(),Ot?Lr():c(A);break}case"ArrowDown":case"ArrowRight":{if(!Ot)return;A.preventDefault(),A.stopPropagation();var O=rt.get(e),w=O.items,R=Array.from(e.children),C=R.indexOf(A.currentTarget);C<R.length-1&&(r.autoAriaDisabled||Yn("Moved item ".concat(bn," to position ").concat(C+2," in the list ").concat($n)),a(w,C,C+1),Zn(e,w,{trigger:Ze.DROPPED_INTO_ZONE,id:Kt,source:gt.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ot)return;A.preventDefault(),A.stopPropagation();var W=rt.get(e),x=W.items,P=Array.from(e.children),q=P.indexOf(A.currentTarget);q>0&&(r.autoAriaDisabled||Yn("Moved item ".concat(bn," to position ").concat(q," in the list ").concat($n)),a(x,q,q-1),Zn(e,x,{trigger:Ze.DROPPED_INTO_ZONE,id:Kt,source:gt.KEYBOARD}));break}}}function c(A){f(A.currentTarget),dt=e,Ni=r.type,Ot=!0;var O=Array.from(zt.get(r.type)).filter(function(R){return R===dt||!rt.get(R).dropFromOthersDisabled});if(ca(O,function(R){return rt.get(R).dropTargetStyle},function(R){return rt.get(R).dropTargetClasses}),!r.autoAriaDisabled){var w="Started dragging item ".concat(bn,". Use the arrow keys to move it within its list ").concat($n);O.length>1&&(w+=", or tab to another list in order to move the item into it"),Yn(w)}_n(e,rt.get(e).items,{trigger:Ze.DRAG_STARTED,id:Kt,source:gt.KEYBOARD}),nl()}function u(A){Ot&&A.currentTarget!==xn&&(A.stopPropagation(),Lr(!1),c(A))}function f(A){var O=rt.get(e),w=O.items,R=Array.from(e.children),C=R.indexOf(A);xn=A,xn.tabIndex=r.zoneItemTabIndex,Kt=w[C][Be],bn=R[C].getAttribute("aria-label")||""}function T(A){var O=A.items,w=O===void 0?[]:O,R=A.type,C=R===void 0?yu:R,W=A.dragDisabled,x=W===void 0?!1:W,P=A.zoneTabIndex,q=P===void 0?0:P,U=A.zoneItemTabIndex,Z=U===void 0?0:U,ae=A.dropFromOthersDisabled,$=ae===void 0?!1:ae,B=A.dropTargetStyle,V=B===void 0?Jo:B,le=A.dropTargetClasses,Q=le===void 0?[]:le,ue=A.autoAriaDisabled,ie=ue===void 0?!1:ue;r.items=Nt(w),r.dragDisabled=x,r.dropFromOthersDisabled=$,r.zoneTabIndex=q,r.zoneItemTabIndex=Z,r.dropTargetStyle=V,r.dropTargetClasses=Q,r.autoAriaDisabled=ie,r.type&&C!==r.type&&es(e,r.type),r.type=C,_u(e,C),ie||(e.setAttribute("aria-disabled",x),e.setAttribute("role","list"),e.setAttribute("aria-describedby",x?ya.DND_ZONE_DRAG_DISABLED:ya.DND_ZONE_ACTIVE)),rt.set(e,r),Ot?e.tabIndex=e===dt||xn.contains(e)||r.dropFromOthersDisabled||dt&&r.type!==rt.get(dt).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Au);for(var Ae=function(we){var ce=e.children[we];ba.add(ce),ce.tabIndex=Ot?-1:r.zoneItemTabIndex,ie||ce.setAttribute("role","listitem"),ce.removeEventListener("keydown",Xo.get(ce)),ce.removeEventListener("click",Qo.get(ce)),x||(ce.addEventListener("keydown",l),Xo.set(ce,l),ce.addEventListener("click",u),Qo.set(ce,u)),Ot&&r.items[we][Be]===Kt&&(xn=ce,xn.tabIndex=r.zoneItemTabIndex,ce.focus())},Se=0;Se<e.children.length;Se++)Ae(Se)}T(t);var m={update:function(O){T(O)},destroy:function(){es(e,r.type),rt.delete(e),xi.delete(e)}};return xi.set(e,m),m}var Du=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function vi(e,t){if(Tu(e))return{update:function(){},destroy:function(){}};ts(t);var r=hu(e,t),a=Eu(e,t);return{update:function(c){ts(c),r.update(c),a.update(c)},destroy:function(){r.destroy(),a.destroy()}}}function Tu(e){return!!e.closest("[".concat(Nd,'="true"]'))}function ts(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var l=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var c=e.delayTouchStart;e.dropAnimationDisabled;var u=pd(e,Du);if(Object.keys(u).length>0&&console.warn("dndzone will ignore unknown options",u),!t)throw new Error("no 'items' key provided to dndzone");var f=t.find(function(A){return!{}.hasOwnProperty.call(A,Be)});if(f)throw new Error("missing '".concat(Be,"' property for item ").concat(br(f)));if(l&&!Array.isArray(l))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Bn(l),", ").concat(br(l)));if(r&&!ns(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Bn(r),", ").concat(br(r)));if(a&&!ns(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Bn(a),", ").concat(br(a)));if(c!==void 0&&c!==!1){var T=c===!0,m=typeof c=="number"&&isFinite(c)&&c>=0;if(!T&&!m)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Bn(c),", ").concat(br(c)))}}function ns(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function Cu(e){const t=e-1;return t*t*t+1}function Su(e,{from:t,to:r},a={}){var{delay:l=0,duration:c=$=>Math.sqrt($)*120,easing:u=Cu}=a,f=getComputedStyle(e),T=f.transform==="none"?"":f.transform,[m,A]=f.transformOrigin.split(" ").map(parseFloat);m/=e.clientWidth,A/=e.clientHeight;var O=Iu(e),w=e.clientWidth/r.width/O,R=e.clientHeight/r.height/O,C=t.left+t.width*m,W=t.top+t.height*A,x=r.left+r.width*m,P=r.top+r.height*A,q=(C-x)*w,U=(W-P)*R,Z=t.width/r.width,ae=t.height/r.height;return{delay:l,duration:typeof c=="function"?c(Math.sqrt(q*q+U*U)):c,easing:u,css:($,B)=>{var V=B*q,le=B*U,Q=$+B*Z,ue=$+B*ae;return`transform: ${T} translate(${V}px, ${le}px) scale(${Q}, ${ue});`}}}function Iu(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}function Pu(e,t,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)}function Ou(e,t,r,a,l){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ua;const xt="__TAURI_TO_IPC_KEY__";function Nu(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function N(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}let xu=class{get rid(){return Pu(this,ua,"f")}constructor(t){ua.set(this,void 0),Ou(this,ua,t)}async close(){return N("plugin:resources|close",{rid:this.rid})}};ua=new WeakMap;var Li;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Document=6]="Document",e[e.Download=7]="Download",e[e.Picture=8]="Picture",e[e.Public=9]="Public",e[e.Video=10]="Video",e[e.Resource=11]="Resource",e[e.Temp=12]="Temp",e[e.AppConfig=13]="AppConfig",e[e.AppData=14]="AppData",e[e.AppLocalData=15]="AppLocalData",e[e.AppCache=16]="AppCache",e[e.AppLog=17]="AppLog",e[e.Desktop=18]="Desktop",e[e.Executable=19]="Executable",e[e.Font=20]="Font",e[e.Home=21]="Home",e[e.Runtime=22]="Runtime",e[e.Template=23]="Template"})(Li||(Li={}));async function Lu(){return N("plugin:path|resolve_directory",{directory:Li.AppData})}function Ru(e,t,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)}function $u(e,t,r,a,l){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var fa;function Mu(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function nt(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}class ku{get rid(){return Ru(this,fa,"f")}constructor(t){fa.set(this,void 0),$u(this,fa,t)}async close(){return nt("plugin:resources|close",{rid:this.rid})}}fa=new WeakMap;var rs;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(rs||(rs={}));async function zu(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await nt("plugin:event|unlisten",{event:e,eventId:t})}async function as(e,t,r){var a;const l=(a=void 0)!==null&&a!==void 0?a:{kind:"Any"};return nt("plugin:event|listen",{event:e,target:l,handler:Mu(t)}).then(c=>async()=>zu(e,c))}class _a extends ku{constructor(t){super(t)}static async load(t,r){const a=await nt("plugin:store|load",{path:t,options:r});return new _a(a)}static async get(t){return await nt("plugin:store|get_store",{path:t}).then(r=>r?new _a(r):null)}async set(t,r){await nt("plugin:store|set",{rid:this.rid,key:t,value:r})}async get(t){const[r,a]=await nt("plugin:store|get",{rid:this.rid,key:t});return a?r:void 0}async has(t){return await nt("plugin:store|has",{rid:this.rid,key:t})}async delete(t){return await nt("plugin:store|delete",{rid:this.rid,key:t})}async clear(){await nt("plugin:store|clear",{rid:this.rid})}async reset(){await nt("plugin:store|reset",{rid:this.rid})}async keys(){return await nt("plugin:store|keys",{rid:this.rid})}async values(){return await nt("plugin:store|values",{rid:this.rid})}async entries(){return await nt("plugin:store|entries",{rid:this.rid})}async length(){return await nt("plugin:store|length",{rid:this.rid})}async reload(t){await nt("plugin:store|reload",{rid:this.rid,...t})}async save(){await nt("plugin:store|save",{rid:this.rid})}async onKeyChange(t,r){return await as("store://change",a=>{a.payload.resourceId===this.rid&&a.payload.key===t&&r(a.payload.exists?a.payload.value:void 0)})}async onChange(t){return await as("store://change",r=>{r.payload.resourceId===this.rid&&t(r.payload.key,r.payload.exists?r.payload.value:void 0)})}}let hi=null;const qt="appL7Lq4VPcHgAewL",Aa="tblr8L369WEh7mGYh",Zt="patAbSQCuNbPKVIwG.bb8ad8d617b8b32017c7cc5482f021dbcd1efa3598ae05b71cee7aba651f49a7";function Uu(){return Zt}const at={Name:"fldN41qoRuE3Jbe6D",Type:"fldQ4oETBTtcC5qVe",Target:"fld0YbsNSWDiMaO0h",Enabled:"fld1Bv8ukgCQLvNJb",Icon:"fldfF4CSMX5GwlYnL",IconB64:"fld9NOg5wFtWv4xtS",Ownership:"fldO6ZWEuutLhTxQU",Owner:"fldhgCgBVIoWNCjZB",Parent:"fldaEnNJPAD99piXc"},Ea={Global:"selZiQSSE5YAvQGXT",Public:"selKiYgxvMTN7ULqO",Private:"selYEJUoktPMFM87d"},Da={web:"selNX7ivtZ5EOV1Cw","win app":"selbHeBqGFoXupRwS","mac app":"selicwcchercMg0rA",chrome:"selZ9HCVtmMpZt7k8"};async function Jt(){return hi||(console.log("ð§  Loading store..."),hi=await _a.load("settings.json"),console.log("â Store loaded.")),hi}async function pi(){const e=await Jt(),t=await e.get("ui-settings");console.log("ð¥ Loaded settings from disk:",t);const r={iconSize:256,iconPadding:16,gridColumns:4,textSize:18,marginMin:24,appIconRadius:16,theme:"light",newAppButtonLocation:"inline"};if(!t||typeof t!="object")return r;const a=t;return typeof a=="object"&&("target"in a||"currentTarget"in a||typeof a.type=="string")?(console.warn("ð§¹ Detected corrupted ui-settings (event object). Clearing stored settings."),await e.delete("ui-settings"),await e.save(),r):{iconSize:Number(a.iconSize)||r.iconSize,iconPadding:Number(a.iconPadding)||r.iconPadding,gridColumns:Number(a.gridColumns)||r.gridColumns,textSize:Number(a.textSize)||r.textSize,marginMin:Number(a.marginMin)||r.marginMin,appIconRadius:Number(a.appIconRadius)||r.appIconRadius,theme:typeof a.theme=="string"?a.theme:r.theme,newAppButtonLocation:a.newAppButtonLocation==="titlebar"||a.newAppButtonLocation==="inline"?a.newAppButtonLocation:r.newAppButtonLocation}}async function Fu(e){const t=await Jt();console.log("ð¾ Saving settings:",e),await t.set("ui-settings",e),await t.save(),console.log("â Saved settings to disk.")}async function mi(){const t=await(await Jt()).get("custom-apps");return console.log("ð¥ Loaded custom apps from disk:",t),!t||!Array.isArray(t)?[]:t}async function is(e){const t=await Jt();console.log("ð¾ Saving custom apps:",e),await t.set("custom-apps",e),await t.save(),console.log("â Saved custom apps to disk.")}async function wi(e,t){const r=await Jt(),a=await r.get("icon-data")||{};a[e]=t,await r.set("icon-data",a),await r.save(),console.log("ð¾ Saved icon data for:",e)}async function Wu(){return await(await Jt()).get("icon-data")||{}}async function Hu(){const t=await(await Jt()).get("selected-user-id");return console.log("ð¥ Loaded selected user ID from disk:",t),typeof t!="string"?null:t}async function Gu(e){const t=await Jt();console.log("ð¾ Saving selected user ID:",e),await t.set("selected-user-id",e),await t.save(),console.log("â Saved selected user ID to disk.")}async function os(e){const t={iconSize:256,iconPadding:16,gridColumns:4,textSize:18,marginMin:24,appIconRadius:16,theme:"light",newAppButtonLocation:"inline"};if(!e||typeof e!="string")return console.log("ð¥ No user settings found, using defaults"),t;try{const r=JSON.parse(e);return console.log("ð¥ Loaded settings from user record:",r),{iconSize:Number(r.iconSize)||t.iconSize,iconPadding:Number(r.iconPadding)||t.iconPadding,gridColumns:Number(r.gridColumns)||t.gridColumns,textSize:Number(r.textSize)||t.textSize,marginMin:Number(r.marginMin)||t.marginMin,appIconRadius:Number(r.appIconRadius)||t.appIconRadius,theme:typeof r.theme=="string"?r.theme:t.theme,newAppButtonLocation:r.newAppButtonLocation==="titlebar"||r.newAppButtonLocation==="inline"?r.newAppButtonLocation:t.newAppButtonLocation}}catch(r){return console.error("Failed to parse user settings:",r),t}}async function Bu(){const t=await(await Jt()).get("window-state");return!t||typeof t!="object"||typeof t.x!="number"||typeof t.y!="number"||typeof t.width!="number"||typeof t.height!="number"?null:{x:t.x,y:t.y,width:t.width,height:t.height}}async function ju(e){const t=await Jt();await t.set("window-state",e),await t.save()}async function ss(e,t){console.log("ð¤ Creating app in Airtable:",e.Name),console.log("   Base ID:",qt),console.log("   Table ID:",Aa),console.log("   User ID:",t);const r=Da[e.Type]||Da["mac app"],a=Ea[e.Ownership]||Ea.Private;console.log("   Type:",e.Type,"â",r),console.log("   Ownership:",e.Ownership,"â",a);const l={[at.Name]:e.Name,[at.Type]:r,[at.Target]:e.Target,[at.Enabled]:e.Enabled,[at.Ownership]:a,[at.Owner]:[t]};e.Icon&&e.Icon.length>0&&(console.log("   Storing icon in IconB64 field (length:",e.Icon.length,"chars)"),l[at.IconB64]=e.Icon),e.Parent&&e.Parent.length>0&&(l[at.Parent]=e.Parent);try{const c=await fetch(`https://api.airtable.com/v0/${qt}/${Aa}`,{method:"POST",headers:{Authorization:`Bearer ${Zt}`,"Content-Type":"application/json"},body:JSON.stringify({fields:l})});if(!c.ok){let f;try{f=await c.json()}catch{f={error:c.statusText}}throw console.error("â Airtable create failed:",c.status,f),console.error("   Request body was:",JSON.stringify({fields:l},null,2)),new Error(`Failed to create app in Airtable: ${c.status} ${JSON.stringify(f)}`)}const u=await c.json();return console.log("â App created in Airtable:",u),u}catch(c){throw console.error("â Error creating app in Airtable:",c),c}}async function _r(e,t){console.log("ð¤ Updating app in Airtable:",e);const r={};t.Name!==void 0&&(r[at.Name]=t.Name),t.Type!==void 0&&(r[at.Type]=Da[t.Type]||Da["mac app"]),t.Target!==void 0&&(r[at.Target]=t.Target),t.Enabled!==void 0&&(r[at.Enabled]=t.Enabled),t.Ownership!==void 0&&(r[at.Ownership]=Ea[t.Ownership]||Ea.Private),t.Owner!==void 0&&(r[at.Owner]=t.Owner),t.Icon!==void 0&&(r[at.Icon]=[{url:t.Icon}]),t.IconB64!==void 0&&(r[at.IconB64]=t.IconB64),t.Parent!==void 0&&(r[at.Parent]=t.Parent);try{const a=await fetch(`https://api.airtable.com/v0/${qt}/${Aa}/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${Zt}`,"Content-Type":"application/json"},body:JSON.stringify({fields:r})});if(!a.ok){const c=await a.json();throw console.error("â Airtable update failed:",c),new Error(`Failed to update app in Airtable: ${a.statusText}`)}const l=await a.json();return console.log("â App updated in Airtable:",l),l}catch(a){throw console.error("â Error updating app in Airtable:",a),a}}async function Vu(e){console.log("ðï¸ Deleting app from Airtable:",e);try{const t=await fetch(`https://api.airtable.com/v0/${qt}/${Aa}/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${Zt}`}});if(!t.ok){const r=await t.json();throw console.error("â Airtable delete failed:",r),new Error(`Failed to delete app from Airtable: ${t.statusText}`)}console.log("â App deleted from Airtable")}catch(t){throw console.error("â Error deleting app from Airtable:",t),t}}async function Yu(e,t){console.log("ð Hiding Global app:",e,"for user:",t);try{const r=await fetch(`https://api.airtable.com/v0/${qt}/tblbpYp0Cza2JMKKR/${t}`,{headers:{Authorization:`Bearer ${Zt}`}});if(!r.ok)throw new Error(`Failed to fetch user: ${r.statusText}`);const l=(await r.json()).fields.HideGlobal||[];if(l.includes(e))console.log("â¹ï¸ User already has this app hidden");else{l.push(e);const c=await fetch(`https://api.airtable.com/v0/${qt}/tblbpYp0Cza2JMKKR/${t}`,{method:"PATCH",headers:{Authorization:`Bearer ${Zt}`,"Content-Type":"application/json"},body:JSON.stringify({fields:{HideGlobal:l}})});if(!c.ok){const u=await c.json();throw console.error("â Failed to hide Global app:",u),new Error(`Failed to hide Global app: ${c.statusText}`)}console.log("â Global app hidden for user")}}catch(r){throw console.error("â Error hiding Global app:",r),r}}async function Ku(e,t){console.log("ð Hiding Public app:",e,"from user:",t);try{const r=await fetch(`https://api.airtable.com/v0/${qt}/tblbpYp0Cza2JMKKR/${t}`,{headers:{Authorization:`Bearer ${Zt}`}});if(!r.ok)throw new Error(`Failed to fetch user: ${r.statusText}`);const l=(await r.json()).fields.PublicApps||[],c=l.filter(u=>u!==e);if(c.length!==l.length){const u=await fetch(`https://api.airtable.com/v0/${qt}/tblbpYp0Cza2JMKKR/${t}`,{method:"PATCH",headers:{Authorization:`Bearer ${Zt}`,"Content-Type":"application/json"},body:JSON.stringify({fields:{PublicApps:c}})});if(!u.ok){const f=await u.json();throw console.error("â Failed to hide Public app:",f),new Error(`Failed to hide Public app: ${u.statusText}`)}console.log("â Public app hidden from user")}else console.log("â¹ï¸ App was not in user's Public Apps list")}catch(r){throw console.error("â Error hiding Public app:",r),r}}async function ls(e){console.log("ð Loading app order for user:",e);try{const t=await fetch(`https://api.airtable.com/v0/${qt}/tblbpYp0Cza2JMKKR/${e}`,{headers:{Authorization:`Bearer ${Zt}`}});if(!t.ok)throw new Error(`Failed to fetch user: ${t.statusText}`);const a=(await t.json()).fields.AppOrder;if(!a||typeof a!="string")return console.log("â¹ï¸ No app order set for user, returning empty array"),[];try{const l=JSON.parse(a);return Array.isArray(l)?(console.log("â Loaded app order:",l),l):(console.warn("â ï¸ App order is not an array, returning empty array"),[])}catch(l){return console.error("â Failed to parse AppOrder JSON:",l),[]}}catch(t){return console.error("â Error loading app order:",t),[]}}async function bi(e,t){console.log("ð¾ Saving app order for user:",e,"order:",t);try{const r=JSON.stringify(t),a=await fetch(`https://api.airtable.com/v0/${qt}/tblbpYp0Cza2JMKKR/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${Zt}`,"Content-Type":"application/json"},body:JSON.stringify({fields:{AppOrder:r}})});if(!a.ok){const l=await a.json();throw console.error("â Failed to save app order:",l),new Error(`Failed to save app order: ${a.statusText}`)}console.log("â App order saved successfully")}catch(r){throw console.error("â Error saving app order:",r),r}}var Et;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(Et||(Et={}));async function rl(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await N("plugin:event|unlisten",{event:e,eventId:t})}async function Cr(e,t,r){var a;const l=typeof(r==null?void 0:r.target)=="string"?{kind:"AnyLabel",label:r.target}:(a=r==null?void 0:r.target)!==null&&a!==void 0?a:{kind:"Any"};return N("plugin:event|listen",{event:e,target:l,handler:Nu(t)}).then(c=>async()=>rl(e,c))}async function qu(e,t,r){return Cr(e,a=>{rl(e,a.id),t(a)},r)}async function Zu(e,t){await N("plugin:event|emit",{event:e,payload:t})}async function Ju(e,t,r){await N("plugin:event|emit_to",{target:typeof e=="string"?{kind:"AnyLabel",label:e}:e,event:t,payload:r})}class Gi{constructor(...t){this.type="Logical",t.length===1?"Logical"in t[0]?(this.width=t[0].Logical.width,this.height=t[0].Logical.height):(this.width=t[0].width,this.height=t[0].height):(this.width=t[0],this.height=t[1])}toPhysical(t){return new Sr(this.width*t,this.height*t)}[xt](){return{width:this.width,height:this.height}}toJSON(){return this[xt]()}}class Sr{constructor(...t){this.type="Physical",t.length===1?"Physical"in t[0]?(this.width=t[0].Physical.width,this.height=t[0].Physical.height):(this.width=t[0].width,this.height=t[0].height):(this.width=t[0],this.height=t[1])}toLogical(t){return new Gi(this.width/t,this.height/t)}[xt](){return{width:this.width,height:this.height}}toJSON(){return this[xt]()}}class Wn{constructor(t){this.size=t}toLogical(t){return this.size instanceof Gi?this.size:this.size.toLogical(t)}toPhysical(t){return this.size instanceof Sr?this.size:this.size.toPhysical(t)}[xt](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[xt]()}}class Bi{constructor(...t){this.type="Logical",t.length===1?"Logical"in t[0]?(this.x=t[0].Logical.x,this.y=t[0].Logical.y):(this.x=t[0].x,this.y=t[0].y):(this.x=t[0],this.y=t[1])}toPhysical(t){return new mn(this.x*t,this.y*t)}[xt](){return{x:this.x,y:this.y}}toJSON(){return this[xt]()}}class mn{constructor(...t){this.type="Physical",t.length===1?"Physical"in t[0]?(this.x=t[0].Physical.x,this.y=t[0].Physical.y):(this.x=t[0].x,this.y=t[0].y):(this.x=t[0],this.y=t[1])}toLogical(t){return new Bi(this.x/t,this.y/t)}[xt](){return{x:this.x,y:this.y}}toJSON(){return this[xt]()}}class oa{constructor(t){this.position=t}toLogical(t){return this.position instanceof Bi?this.position:this.position.toLogical(t)}toPhysical(t){return this.position instanceof mn?this.position:this.position.toPhysical(t)}[xt](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[xt]()}}class Ir extends xu{constructor(t){super(t)}static async new(t,r,a){return N("plugin:image|new",{rgba:Ta(t),width:r,height:a}).then(l=>new Ir(l))}static async fromBytes(t){return N("plugin:image|from_bytes",{bytes:Ta(t)}).then(r=>new Ir(r))}static async fromPath(t){return N("plugin:image|from_path",{path:t}).then(r=>new Ir(r))}async rgba(){return N("plugin:image|rgba",{rid:this.rid}).then(t=>new Uint8Array(t))}async size(){return N("plugin:image|size",{rid:this.rid})}}function Ta(e){return e==null?null:typeof e=="string"?e:e instanceof Ir?e.rid:e}var Ri;(function(e){e[e.Critical=1]="Critical",e[e.Informational=2]="Informational"})(Ri||(Ri={}));class Xu{constructor(t){this._preventDefault=!1,this.event=t.event,this.id=t.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var cs;(function(e){e.None="none",e.Normal="normal",e.Indeterminate="indeterminate",e.Paused="paused",e.Error="error"})(cs||(cs={}));function al(){return new il(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function yi(){return N("plugin:window|get_all_windows").then(e=>e.map(t=>new il(t,{skip:!0})))}const _i=["tauri://created","tauri://error"];class il{constructor(t,r={}){var a;this.label=t,this.listeners=Object.create(null),r!=null&&r.skip||N("plugin:window|create",{options:{...r,parent:typeof r.parent=="string"?r.parent:(a=r.parent)===null||a===void 0?void 0:a.label,label:t}}).then(async()=>this.emit("tauri://created")).catch(async l=>this.emit("tauri://error",l))}static async getByLabel(t){var r;return(r=(await yi()).find(a=>a.label===t))!==null&&r!==void 0?r:null}static getCurrent(){return al()}static async getAll(){return yi()}static async getFocusedWindow(){for(const t of await yi())if(await t.isFocused())return t;return null}async listen(t,r){return this._handleTauriEvent(t,r)?()=>{const a=this.listeners[t];a.splice(a.indexOf(r),1)}:Cr(t,r,{target:{kind:"Window",label:this.label}})}async once(t,r){return this._handleTauriEvent(t,r)?()=>{const a=this.listeners[t];a.splice(a.indexOf(r),1)}:qu(t,r,{target:{kind:"Window",label:this.label}})}async emit(t,r){if(_i.includes(t)){for(const a of this.listeners[t]||[])a({event:t,id:-1,payload:r});return}return Zu(t,r)}async emitTo(t,r,a){if(_i.includes(r)){for(const l of this.listeners[r]||[])l({event:r,id:-1,payload:a});return}return Ju(t,r,a)}_handleTauriEvent(t,r){return _i.includes(t)?(t in this.listeners?this.listeners[t].push(r):this.listeners[t]=[r],!0):!1}async scaleFactor(){return N("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return N("plugin:window|inner_position",{label:this.label}).then(t=>new mn(t))}async outerPosition(){return N("plugin:window|outer_position",{label:this.label}).then(t=>new mn(t))}async innerSize(){return N("plugin:window|inner_size",{label:this.label}).then(t=>new Sr(t))}async outerSize(){return N("plugin:window|outer_size",{label:this.label}).then(t=>new Sr(t))}async isFullscreen(){return N("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return N("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return N("plugin:window|is_maximized",{label:this.label})}async isFocused(){return N("plugin:window|is_focused",{label:this.label})}async isDecorated(){return N("plugin:window|is_decorated",{label:this.label})}async isResizable(){return N("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return N("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return N("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return N("plugin:window|is_closable",{label:this.label})}async isVisible(){return N("plugin:window|is_visible",{label:this.label})}async title(){return N("plugin:window|title",{label:this.label})}async theme(){return N("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return N("plugin:window|is_always_on_top",{label:this.label})}async center(){return N("plugin:window|center",{label:this.label})}async requestUserAttention(t){let r=null;return t&&(t===Ri.Critical?r={type:"Critical"}:r={type:"Informational"}),N("plugin:window|request_user_attention",{label:this.label,value:r})}async setResizable(t){return N("plugin:window|set_resizable",{label:this.label,value:t})}async setEnabled(t){return N("plugin:window|set_enabled",{label:this.label,value:t})}async isEnabled(){return N("plugin:window|is_enabled",{label:this.label})}async setMaximizable(t){return N("plugin:window|set_maximizable",{label:this.label,value:t})}async setMinimizable(t){return N("plugin:window|set_minimizable",{label:this.label,value:t})}async setClosable(t){return N("plugin:window|set_closable",{label:this.label,value:t})}async setTitle(t){return N("plugin:window|set_title",{label:this.label,value:t})}async maximize(){return N("plugin:window|maximize",{label:this.label})}async unmaximize(){return N("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return N("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return N("plugin:window|minimize",{label:this.label})}async unminimize(){return N("plugin:window|unminimize",{label:this.label})}async show(){return N("plugin:window|show",{label:this.label})}async hide(){return N("plugin:window|hide",{label:this.label})}async close(){return N("plugin:window|close",{label:this.label})}async destroy(){return N("plugin:window|destroy",{label:this.label})}async setDecorations(t){return N("plugin:window|set_decorations",{label:this.label,value:t})}async setShadow(t){return N("plugin:window|set_shadow",{label:this.label,value:t})}async setEffects(t){return N("plugin:window|set_effects",{label:this.label,value:t})}async clearEffects(){return N("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(t){return N("plugin:window|set_always_on_top",{label:this.label,value:t})}async setAlwaysOnBottom(t){return N("plugin:window|set_always_on_bottom",{label:this.label,value:t})}async setContentProtected(t){return N("plugin:window|set_content_protected",{label:this.label,value:t})}async setSize(t){return N("plugin:window|set_size",{label:this.label,value:t instanceof Wn?t:new Wn(t)})}async setMinSize(t){return N("plugin:window|set_min_size",{label:this.label,value:t instanceof Wn?t:t?new Wn(t):null})}async setMaxSize(t){return N("plugin:window|set_max_size",{label:this.label,value:t instanceof Wn?t:t?new Wn(t):null})}async setSizeConstraints(t){function r(a){return a?{Logical:a}:null}return N("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:r(t==null?void 0:t.minWidth),minHeight:r(t==null?void 0:t.minHeight),maxWidth:r(t==null?void 0:t.maxWidth),maxHeight:r(t==null?void 0:t.maxHeight)}})}async setPosition(t){return N("plugin:window|set_position",{label:this.label,value:t instanceof oa?t:new oa(t)})}async setFullscreen(t){return N("plugin:window|set_fullscreen",{label:this.label,value:t})}async setSimpleFullscreen(t){return N("plugin:window|set_simple_fullscreen",{label:this.label,value:t})}async setFocus(){return N("plugin:window|set_focus",{label:this.label})}async setFocusable(t){return N("plugin:window|set_focusable",{label:this.label,value:t})}async setIcon(t){return N("plugin:window|set_icon",{label:this.label,value:Ta(t)})}async setSkipTaskbar(t){return N("plugin:window|set_skip_taskbar",{label:this.label,value:t})}async setCursorGrab(t){return N("plugin:window|set_cursor_grab",{label:this.label,value:t})}async setCursorVisible(t){return N("plugin:window|set_cursor_visible",{label:this.label,value:t})}async setCursorIcon(t){return N("plugin:window|set_cursor_icon",{label:this.label,value:t})}async setBackgroundColor(t){return N("plugin:window|set_background_color",{color:t})}async setCursorPosition(t){return N("plugin:window|set_cursor_position",{label:this.label,value:t instanceof oa?t:new oa(t)})}async setIgnoreCursorEvents(t){return N("plugin:window|set_ignore_cursor_events",{label:this.label,value:t})}async startDragging(){return N("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(t){return N("plugin:window|start_resize_dragging",{label:this.label,value:t})}async setBadgeCount(t){return N("plugin:window|set_badge_count",{label:this.label,value:t})}async setBadgeLabel(t){return N("plugin:window|set_badge_label",{label:this.label,value:t})}async setOverlayIcon(t){return N("plugin:window|set_overlay_icon",{label:this.label,value:t?Ta(t):void 0})}async setProgressBar(t){return N("plugin:window|set_progress_bar",{label:this.label,value:t})}async setVisibleOnAllWorkspaces(t){return N("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:t})}async setTitleBarStyle(t){return N("plugin:window|set_title_bar_style",{label:this.label,value:t})}async setTheme(t){return N("plugin:window|set_theme",{label:this.label,value:t})}async onResized(t){return this.listen(Et.WINDOW_RESIZED,r=>{r.payload=new Sr(r.payload),t(r)})}async onMoved(t){return this.listen(Et.WINDOW_MOVED,r=>{r.payload=new mn(r.payload),t(r)})}async onCloseRequested(t){return this.listen(Et.WINDOW_CLOSE_REQUESTED,async r=>{const a=new Xu(r);await t(a),a.isPreventDefault()||await this.destroy()})}async onDragDropEvent(t){const r=await this.listen(Et.DRAG_ENTER,u=>{t({...u,payload:{type:"enter",paths:u.payload.paths,position:new mn(u.payload.position)}})}),a=await this.listen(Et.DRAG_OVER,u=>{t({...u,payload:{type:"over",position:new mn(u.payload.position)}})}),l=await this.listen(Et.DRAG_DROP,u=>{t({...u,payload:{type:"drop",paths:u.payload.paths,position:new mn(u.payload.position)}})}),c=await this.listen(Et.DRAG_LEAVE,u=>{t({...u,payload:{type:"leave"}})});return()=>{r(),l(),a(),c()}}async onFocusChanged(t){const r=await this.listen(Et.WINDOW_FOCUS,l=>{t({...l,payload:!0})}),a=await this.listen(Et.WINDOW_BLUR,l=>{t({...l,payload:!1})});return()=>{r(),a()}}async onScaleChanged(t){return this.listen(Et.WINDOW_SCALE_FACTOR_CHANGED,t)}async onThemeChanged(t){return this.listen(Et.WINDOW_THEME_CHANGED,t)}}var ds;(function(e){e.Disabled="disabled",e.Throttle="throttle",e.Suspend="suspend"})(ds||(ds={}));var us;(function(e){e.Default="default",e.FluentOverlay="fluentOverlay"})(us||(us={}));var fs;(function(e){e.AppearanceBased="appearanceBased",e.Light="light",e.Dark="dark",e.MediumLight="mediumLight",e.UltraDark="ultraDark",e.Titlebar="titlebar",e.Selection="selection",e.Menu="menu",e.Popover="popover",e.Sidebar="sidebar",e.HeaderView="headerView",e.Sheet="sheet",e.WindowBackground="windowBackground",e.HudWindow="hudWindow",e.FullScreenUI="fullScreenUI",e.Tooltip="tooltip",e.ContentBackground="contentBackground",e.UnderWindowBackground="underWindowBackground",e.UnderPageBackground="underPageBackground",e.Mica="mica",e.Blur="blur",e.Acrylic="acrylic",e.Tabbed="tabbed",e.TabbedDark="tabbedDark",e.TabbedLight="tabbedLight"})(fs||(fs={}));var gs;(function(e){e.FollowsWindowActiveState="followsWindowActiveState",e.Active="active",e.Inactive="inactive"})(gs||(gs={}));/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Qu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ef=fc("<svg><!><!></svg>");function yt(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]),a=ut(r,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ss(t,!1);let l=Fn(t,"name",8,void 0),c=Fn(t,"color",8,"currentColor"),u=Fn(t,"size",8,24),f=Fn(t,"strokeWidth",8,2),T=Fn(t,"absoluteStrokeWidth",8,!1),m=Fn(t,"iconNode",24,()=>[]);const A=(...C)=>C.filter((W,x,P)=>!!W&&P.indexOf(W)===x).join(" ");Ps();var O=ef();Wo(O,(C,W)=>({...Qu,...a,width:u(),height:u(),stroke:c(),"stroke-width":C,class:W}),[()=>(Gn(T()),Gn(f()),Gn(u()),G(()=>T()?Number(f())*24/Number(u()):f())),()=>(Gn(l()),Gn(r),G(()=>A("lucide-icon","lucide",l()?`lucide-${l()}`:"",r.class)))]);var w=D(O);Nn(w,1,m,Os,(C,W)=>{var x=Hc(()=>Gc(n(W),2));let P=()=>n(x)[0],q=()=>n(x)[1];var U=ke(),Z=ve(U);ed(Z,P,!0,(ae,$)=>{Wo(ae,()=>({...q()}))}),z(C,U)});var R=I(w);vt(R,t,"default",{}),E(O),z(e,O),Is()}function tf(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"m6 9 6 6 6-6"}]];yt(e,bt({name:"chevron-down"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function nf(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"m18 15-6-6-6 6"}]];yt(e,bt({name:"chevron-up"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function rf(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]];yt(e,bt({name:"eye-off"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function vs(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"}]];yt(e,bt({name:"folder-open"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function af(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M12 10v6"}],["path",{d:"M9 13h6"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];yt(e,bt({name:"folder-plus"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function of(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M9 17H7A5 5 0 0 1 7 7"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]];yt(e,bt({name:"link-2-off"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function sa(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];yt(e,bt({name:"plus"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function sf(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}]];yt(e,bt({name:"rotate-cw"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function hs(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];yt(e,bt({name:"search"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function lf(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];yt(e,bt({name:"settings"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function cf(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];yt(e,bt({name:"square-pen"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function ps(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];yt(e,bt({name:"trash-2"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function df(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];yt(e,bt({name:"user"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}function Hn(e,t){const r=ut(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.553.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];yt(e,bt({name:"x"},()=>r,{get iconNode(){return a},children:(l,c)=>{var u=ke(),f=ve(u);vt(f,t,"default",{}),z(l,u)},$$slots:{default:!0}}))}var uf=Y('<div class="drop-zone svelte-1uha8ag" role="button" tabindex="0"></div>'),ff=Y('<button class="clear-search svelte-1uha8ag" aria-label="Clear search"><!></button>'),gf=Y('<div class="search-bar-fullwidth svelte-1uha8ag"><!> <input type="text" placeholder="Search apps..." class="search-input svelte-1uha8ag"/> <!></div>'),vf=Y('<button class="title-button svelte-1uha8ag" aria-label="Click to search apps">Atlas Launcher</button> <button class="search-icon-btn svelte-1uha8ag" aria-label="Search apps"><!></button>',1),hf=Y('<p class="error svelte-1uha8ag"> </p>'),pf=Y('<button class="btn-pill-open" aria-label="Add new app">New App +</button>'),mf=Y("<p>Loading apps...</p>"),wf=Y('<img alt="" crossorigin="anonymous" class="svelte-1uha8ag"/>'),bf=Y('<img alt="" crossorigin="anonymous" class="svelte-1uha8ag"/>'),yf=Y('<div class="placeholder-icon svelte-1uha8ag">ð¦</div>'),_f=Y('<div class="child-folder-badge svelte-1uha8ag" aria-hidden="true"><!></div>'),Af=Y('<div class="public-app-overlay svelte-1uha8ag"><div class="add-public-app-btn svelte-1uha8ag" role="button" tabindex="0" aria-label="Add to my public apps"><!></div></div>'),Ef=Y('<div class="nest-overlay svelte-1uha8ag" aria-hidden="true"><!></div>'),Df=Y('<div class="app-with-insert-indicator svelte-1uha8ag"><button type="button"><div class="icon-container svelte-1uha8ag"><!> <!> <!> <!></div> <p class="svelte-1uha8ag"> </p></button></div>'),Tf=Y('<button type="button" class="icon-wrapper add-new-button svelte-1uha8ag" aria-label="Add new app" style="--add-button-size: max(28px, calc(var(--icon-size) * 0.4));"><div class="add-new-icon svelte-1uha8ag"><!></div> <p class="svelte-1uha8ag">Add New</p></button>'),Cf=Y('<div class="grid svelte-1uha8ag"><!> <!></div>'),Sf=Y("<main><!></main>"),If=Y('<img alt="" crossorigin="anonymous" class="svelte-1uha8ag"/>'),Pf=Y('<img alt="" crossorigin="anonymous" class="svelte-1uha8ag"/>'),Of=Y('<span class="child-menu-placeholder svelte-1uha8ag">ð¦</span>'),Nf=Y('<button type="button" class="child-menu-item svelte-1uha8ag" role="menuitem"><span class="child-menu-item-icon svelte-1uha8ag"><!></span> <span class="child-menu-item-label svelte-1uha8ag"> </span></button>'),xf=Y('<div class="child-menu svelte-1uha8ag" role="menu" tabindex="0"><div class="child-menu-header svelte-1uha8ag"><span> </span> <button type="button" class="child-menu-close svelte-1uha8ag" aria-label="Close child menu"><!></button></div> <div class="child-menu-list svelte-1uha8ag"></div></div>'),Lf=Y('<button class="context-menu-item unlink svelte-1uha8ag" role="menuitem"><!> <span>Unlink from Parent</span></button>'),Rf=Y('<button class="context-menu-item hide svelte-1uha8ag" role="menuitem"><!> <span>Hide</span></button>'),$f=Y('<button class="context-menu-item edit svelte-1uha8ag" role="menuitem"><!> <span>Edit</span></button> <button class="context-menu-item delete svelte-1uha8ag" role="menuitem"><!> <span>Delete</span></button>',1),Mf=Y('<div class="context-menu svelte-1uha8ag" role="menu" tabindex="0"><!> <!> <div class="context-menu-meta svelte-1uha8ag" aria-hidden="true"> </div></div>'),kf=Y('<div class="confirm-overlay svelte-1uha8ag" role="button" tabindex="0" aria-label="Cancel delete"></div> <div class="confirm-modal svelte-1uha8ag"><div class="confirm-content svelte-1uha8ag"><p class="confirm-message svelte-1uha8ag">Delete <strong class="svelte-1uha8ag"> </strong>?</p> <div class="confirm-buttons svelte-1uha8ag"><button class="btn-cancel">Cancel</button> <button class="btn-delete">Delete</button></div></div></div>',1),zf=Y('<span class="footer-separator svelte-1uha8ag">â¢</span> <span class="success-message svelte-1uha8ag"> </span>',1),Uf=Y('<button class="user-chip svelte-1uha8ag" title="Switch user"><!> <span class="svelte-1uha8ag"> </span></button>'),Ff=Y('<div class="tray-overlay svelte-1uha8ag" role="button" tabindex="0" aria-label="Close settings"></div> <div class="settings-tray svelte-1uha8ag"><div class="settings-header svelte-1uha8ag"><h2 class="svelte-1uha8ag">Settings</h2> <button class="close-btn svelte-1uha8ag" aria-label="Close settings"><!></button></div> <div class="settings-content svelte-1uha8ag"><div class="setting-item svelte-1uha8ag"><label for="theme" class="svelte-1uha8ag">Theme</label> <select id="theme" class="svelte-1uha8ag"><option>Light</option><option>Dark</option><option>Norge</option></select></div> <div class="setting-item svelte-1uha8ag"><label for="newAppButtonLocation" class="svelte-1uha8ag">New App Button Location</label> <select id="newAppButtonLocation" class="svelte-1uha8ag"><option>Inline with Apps</option><option>Title Bar</option></select></div> <div class="setting-item svelte-1uha8ag"><label for="iconSize" class="svelte-1uha8ag">Icon Size (max)</label> <div class="setting-row svelte-1uha8ag"><input id="iconSize" type="range" min="48" max="128" class="svelte-1uha8ag"/> <span class="value-display svelte-1uha8ag"> </span></div></div> <div class="setting-item svelte-1uha8ag"><label for="iconPadding" class="svelte-1uha8ag">Icon Padding</label> <div class="setting-row svelte-1uha8ag"><input id="iconPadding" type="range" min="0" max="64" class="svelte-1uha8ag"/> <span class="value-display svelte-1uha8ag"> </span></div></div> <div class="setting-item svelte-1uha8ag"><label for="gridColumns" class="svelte-1uha8ag">Columns</label> <div class="setting-row svelte-1uha8ag"><input id="gridColumns" type="range" min="1" max="8" class="svelte-1uha8ag"/> <span class="value-display svelte-1uha8ag"> </span></div></div> <div class="setting-item svelte-1uha8ag"><label for="textSize" class="svelte-1uha8ag">Text Size</label> <div class="setting-row svelte-1uha8ag"><input id="textSize" type="range" min="10" max="48" class="svelte-1uha8ag"/> <span class="value-display svelte-1uha8ag"> </span></div></div> <div class="setting-item svelte-1uha8ag"><label for="marginMin" class="svelte-1uha8ag">Margin (min)</label> <div class="setting-row svelte-1uha8ag"><input id="marginMin" type="range" min="0" max="128" class="svelte-1uha8ag"/> <span class="value-display svelte-1uha8ag"> </span></div></div> <div class="setting-item svelte-1uha8ag"><label for="appIconRadius" class="svelte-1uha8ag">App Icon Radius</label> <div class="setting-row svelte-1uha8ag"><input id="appIconRadius" type="range" min="0" max="64" class="svelte-1uha8ag"/> <span class="value-display svelte-1uha8ag"> </span></div></div></div></div>',1),Wf=Y('<div class="edit-pane-drag-overlay svelte-1uha8ag"><p class="drag-message svelte-1uha8ag">ð¥ Drop Image File Here to Update Icon</p></div>'),Hf=Y('<img alt="App icon preview" class="svelte-1uha8ag"/>'),Gf=Y('<div class="placeholder-icon svelte-1uha8ag">ð¦</div>'),Bf=Y('<button class="remove-icon-btn svelte-1uha8ag"><!> Remove</button>'),jf=Y('<div class="child-app-notice svelte-1uha8ag"><p class="svelte-1uha8ag">â¹ï¸ This is a child app. Type and Visibility are inherited from the parent and cannot be changed.</p></div>'),Vf=Y("<option> </option>"),Yf=Y('<select id="editParent" class="svelte-1uha8ag"><option>-- None --</option><!></select> <p class="selector-helper svelte-1uha8ag">Only apps currently visible in the main grid are available here.</p>',1),Kf=Y('<p class="selector-helper svelte-1uha8ag">No parent apps are currently visible in the main section.</p>'),qf=Y('<div class="setting-item parent-selector svelte-1uha8ag"><label for="editParent" class="svelte-1uha8ag">Parent App</label> <!></div>'),Zf=Y('<li class="svelte-1uha8ag"> </li>'),Jf=Y('<ul class="svelte-1uha8ag"></ul>'),Xf=Y('<p class="selector-helper svelte-1uha8ag">No child apps yet.</p>'),Qf=Y('<div class="setting-item child-list svelte-1uha8ag"><p class="child-list-label svelte-1uha8ag">Child Apps</p> <!></div>'),eg=Y('<div class="tray-overlay svelte-1uha8ag" role="button" tabindex="0" aria-label="Close edit pane"></div> <div class="settings-tray edit-pane svelte-1uha8ag" role="region" aria-label="Edit app pane"><!> <div class="edit-pane-header svelte-1uha8ag"><h2 class="svelte-1uha8ag"> </h2> <button class="close-btn svelte-1uha8ag" aria-label="Close edit pane"><!></button></div> <div class="settings-content edit-content svelte-1uha8ag"><div class="setting-item name-field svelte-1uha8ag"><input id="editName" class="edit-name-input svelte-1uha8ag" type="text" placeholder="App name"/></div> <div class="edit-icon-section svelte-1uha8ag" role="region" aria-label="Icon drop zone"><div class="icon-preview svelte-1uha8ag"><!></div> <div class="icon-controls-wrapper svelte-1uha8ag"><div class="icon-controls svelte-1uha8ag"><!> <button class="upload-icon-btn svelte-1uha8ag"><!> Upload</button></div> <p class="drag-hint svelte-1uha8ag">or drag icon here</p></div></div> <div class="setting-item svelte-1uha8ag"><label for="editTarget" class="svelte-1uha8ag"> </label> <input id="editTarget" type="text" class="svelte-1uha8ag"/></div> <div class="setting-row field-pair svelte-1uha8ag"><div class="setting-item compact svelte-1uha8ag"><label for="editType" class="svelte-1uha8ag">App Type</label> <select id="editType" class="svelte-1uha8ag"><option>Web</option><option>Mac App</option><option>Windows App</option><option>Chrome Extension</option></select></div> <div class="setting-item compact svelte-1uha8ag"><label for="editOwnership" class="svelte-1uha8ag">Visibility</label> <select id="editOwnership" class="svelte-1uha8ag"><option>Private (Only Me)</option><option>Public (Opt-in for Others)</option></select></div></div> <!> <!> <!> <div class="edit-buttons svelte-1uha8ag"><button class="btn-cancel">Cancel</button> <button class="btn-confirm"> </button></div></div></div>',1),tg=Y("<option> </option>"),ng=Y('<p class="user-dialog-description svelte-1uha8ag">Choose your profile to see your apps</p> <div class="user-select-wrapper svelte-1uha8ag"><select class="user-select svelte-1uha8ag"><option>-- Select a profile --</option><!><option>+ Create New Profile</option></select></div>',1),rg=Y('<p class="user-dialog-description svelte-1uha8ag">Enter your name to create a new profile</p> <div class="create-user-form svelte-1uha8ag"><input type="text" placeholder="Enter your name" class="user-name-input svelte-1uha8ag"/></div> <div class="user-dialog-actions svelte-1uha8ag"><button class="btn-cancel">Cancel</button> <button class="btn-confirm">Create Profile</button></div>',1),ag=Y('<div class="user-dialog-overlay svelte-1uha8ag" role="button" tabindex="0" aria-label="Close user dialog"></div> <div class="user-dialog svelte-1uha8ag"><div class="user-dialog-header svelte-1uha8ag"><h2 class="svelte-1uha8ag">Select Your Profile</h2> <button class="close-btn svelte-1uha8ag" aria-label="Close user dialog"><!></button></div> <div class="user-dialog-content svelte-1uha8ag"><!></div></div>',1),ig=Y('<div class="tray-overlay svelte-1uha8ag" role="button" tabindex="0" aria-label="Close browser pane"></div> <div class="settings-tray browser-pane svelte-1uha8ag" role="region" aria-label="App browser pane"><div class="browser-pane-header svelte-1uha8ag"><h2 class="svelte-1uha8ag">Browse Apps</h2> <button class="close-btn svelte-1uha8ag" aria-label="Close browser pane"><!></button></div></div>',1),og=Y('<p class="no-apps-message svelte-1uha8ag">No apps available to add</p>'),sg=Y('<img alt="" crossorigin="anonymous" class="svelte-1uha8ag"/>'),lg=Y('<img alt="" crossorigin="anonymous" class="svelte-1uha8ag"/>'),cg=Y('<div class="placeholder-icon svelte-1uha8ag">ð¦</div>'),dg=Y('<div class="child-folder-badge svelte-1uha8ag" aria-hidden="true"><!></div>'),ug=Y('<div class="app-with-insert-indicator svelte-1uha8ag"><button type="button"><div class="icon-container svelte-1uha8ag"><!> <!> <div class="browser-overlay svelte-1uha8ag"><div class="add-browser-app-btn svelte-1uha8ag" role="button" tabindex="0"><!></div></div></div> <p class="svelte-1uha8ag"> </p></button></div>'),fg=Y('<div class="grid browser-grid svelte-1uha8ag"></div>'),gg=Y('<div class="available-apps-section svelte-1uha8ag"><div class="section-header svelte-1uha8ag"><h2 class="svelte-1uha8ag">Available Apps</h2></div> <main class="container svelte-1uha8ag"><!></main></div>'),vg=Y('<!> <div class="app-container svelte-1uha8ag" role="main"><div class="title-section svelte-1uha8ag"><!></div> <!> <div class="apps-section svelte-1uha8ag"><div class="section-header svelte-1uha8ag"><h2 class="svelte-1uha8ag">Apps</h2> <div class="section-header-actions svelte-1uha8ag"><!> <button class="collapse-btn svelte-1uha8ag"><!></button></div></div> <!> <!></div> <!> <!> <footer class="svelte-1uha8ag"><div class="footer-left svelte-1uha8ag"><span class="version svelte-1uha8ag"></span> <!></div> <div class="footer-controls svelte-1uha8ag"><!> <button class="refresh-btn svelte-1uha8ag" title="Refresh apps"><!></button> <button class="settings-btn svelte-1uha8ag" title="Settings"><!></button></div></footer> <!> <!> <!> <!> <!></div>',1);function Dg(e,t){Ss(t,!1);const r=j(),a=j(),l={log:console.log,error:console.error,warn:console.warn,info:console.info},c=Uu(),u=`Bearer ${c}`;console.log=(...i)=>{l.log(...i);const o=i.map(d=>typeof d=="object"?JSON.stringify(d):String(d)).join(" ");N("write_console_log",{level:"LOG",message:o}).catch(()=>{})},console.error=(...i)=>{l.error(...i);const o=i.map(d=>typeof d=="object"?JSON.stringify(d):String(d)).join(" ");N("write_console_log",{level:"ERROR",message:o}).catch(()=>{})},console.warn=(...i)=>{l.warn(...i);const o=i.map(d=>typeof d=="object"?JSON.stringify(d):String(d)).join(" ");N("write_console_log",{level:"WARN",message:o}).catch(()=>{})},console.info=(...i)=>{l.info(...i);const o=i.map(d=>typeof d=="object"?JSON.stringify(d):String(d)).join(" ");N("write_console_log",{level:"INFO",message:o}).catch(()=>{})};let f=j([]),T=j(!1),m=j(null),A=j(!1),O=!1,w=j(null),R=new Map,C=j(!1),W=j(!1),x=j([]),P=null,q=j(null),U=j(null),Z=j(""),ae=j(!1),$=j(""),B=j([]),V=j(""),le=j([]),Q=j([]),ue=j(256),ie=j(16),Ae=j(4),Se=j(18),_e=j(24),we=j(16),ce=j("light"),je=j("inline"),Lt=j(!0),Ee=j(null),ft=j([]),We=j(null),Je=j(null),Xe=j(null),Qe=null;const Dt=260,Mn=16,An=12;let ze=j(null),kr=j(null),Xn=j(null),ji=j(!1),Qn=j(null),er=null,Xt=null,En=j(null),Ft=j(null),tr=j(null),Qt=j(null),ka=null,za=null,Vi=0,Dn=null,sn=j(null),Tn=j(null),en=null,kn=null,zn=null,zr=null;const Yi=1200,ol=1500,Ki=75,qi="application/atlas-child-detach";let Ur=0,me=j(n(ue)),nr=j(n(Se)),Ie=j({}),Zi=j(0),Ji=j(0),ln=j(null),rr=j(null),ar=null,Ua=null,Fa=null,Fr=null,Wr=null,Hr=null,Wt=j(!1),J=j(null),ht=j(""),Tt=j(""),Ct=j("web"),cn=j("Private"),pt="",De=j(""),ot=j(""),ir=j([]),or=j([]),Rt=j(!1),Gr=j(!1),Br=j([]),St=j(!1),sr=j(!1);function Wa(){Qe&&(document.removeEventListener("pointerdown",Qe,!0),Qe=null)}function Ht(){Wa(),s(Ee,null),s(ft,[]),s(Je,null),zn=null,zr=null}async function Xi(i){var g,b;if(!n(Ee)){s(Je,null);return}if(i||(i=document.querySelector(`[data-app-button="${n(Ee)}"]`)),!i){Ht();return}const o=i.getBoundingClientRect(),d=(S,y)=>{let _=o.right+Mn+S<=window.innerWidth?"right":"left",h=_==="right"?o.right+Mn:o.left-Mn-S;h<An&&(h=An,_="right"),h+S>window.innerWidth-An&&(h=Math.max(An,window.innerWidth-An-S));let p=o.top+o.height/2-y/2;return p=Math.max(An,Math.min(p,window.innerHeight-An-y)),{top:p,left:h,side:_}};s(Je,d(((g=n(Xe))==null?void 0:g.offsetWidth)||Dt,((b=n(Xe))==null?void 0:b.offsetHeight)||o.height)),await Ei(),n(Xe)&&s(Je,d(n(Xe).offsetWidth,n(Xe).offsetHeight))}async function sl(i,o){!i.Children||!Array.isArray(i.Children)||i.Children.length===0||(s(Ee,i.id),await Xi(o),yl(i.id))}function jr(){Xt&&(clearTimeout(Xt),Xt=null),s(En,null),s(Ft,null),s(tr,null)}function Qi(i){return i.map(o=>o.toLowerCase()).sort().join("|")}function eo(i,o){return!!ka&&ka===o&&za!==null&&za!==i&&Date.now()-Vi<ol}function to(i,o){ka=o,za=i,Vi=Date.now()}function lr(i){en&&(clearTimeout(en),en=null),s(sn,null),s(Tn,null)}function Cn(i){return!P||!i?!1:(Array.isArray(i.owner)?i.owner:Array.isArray(i.Owner)?i.Owner:[]).includes(P)}function cr(i,o,d){if(!P||!o)return!1;const g=i?Cn(i):!0,b=Cn(o);return!g||!b?(s(m,d??"You must own both apps to create a child relationship."),setTimeout(()=>{s(m,null)},5e3),!1):!0}function no(i){return!i||!Array.isArray(i==null?void 0:i.Parent)||i.Parent.length===0?null:n(f).find(o=>{var d;return(d=i.Parent)==null?void 0:d.includes(o.id)})??null}function ll(i,o){return!P||!i||!o?!1:Cn(i)&&Cn(o)}function cl(i){if(!Dn||Dn===i){lr();return}n(sn)!==i&&s(Tn,null),s(sn,i),en&&clearTimeout(en),en=setTimeout(()=>{s(Tn,i)},Yi)}function dl(){kn&&(kn(),kn=null)}function ul(){if(typeof window>"u"||kn)return;const i=o=>fl(o);window.addEventListener("pointermove",i,!0),kn=()=>{window.removeEventListener("pointermove",i,!0),kn=null}}function fl(i){if(!Dn||typeof document>"u")return;const o=document.elementFromPoint(i.clientX,i.clientY);if(!o||!(o instanceof Element)){lr();return}const d=o.closest("[data-app-button]");if(!d){lr();return}const g=d.getAttribute("data-app-button");if(!g||g===Dn){lr();return}const b=d.getBoundingClientRect();if(!gl(i.clientX,i.clientY,b)){lr();return}cl(g)}function gl(i,o,d){const g=Math.min(Ki,d.width),b=Math.min(Ki,d.height),S=Math.max(0,(d.width-g)/2),y=Math.max(0,(d.height-b)/2),_=d.left+S,h=d.right-S,p=d.top+y,F=d.bottom-y;return i>=_&&i<=h&&o>=p&&o<=F}function vl(){en&&(clearTimeout(en),en=null),s(sn,null),s(Tn,null)}function Ha(){vl(),Dn=null,dl()}function Vr(i){var o;return(o=i==null?void 0:i.dataTransfer)!=null&&o.types?Array.from(i.dataTransfer.types).includes("Files"):O}function hl(i,o){if(n(Ee)&&(zn=o,zr=n(Ee),i.dataTransfer)){i.dataTransfer.setData(qi,o),i.dataTransfer.effectAllowed="move";const d=i.currentTarget;d&&i.dataTransfer.setDragImage(d,d.offsetWidth/2,d.offsetHeight/2)}}function ro(){zn=null,zr=null}function ao(i){Xt&&clearTimeout(Xt),s(En,i),Xt=setTimeout(()=>{s(Ft,i),s(tr,i),s(Qt,i)},Yi)}function pl(i){Xt&&(clearTimeout(Xt),Xt=null),(!i||n(En)===i)&&s(En,null)}function ml(i,o){Vr(i)&&(i.preventDefault(),i.stopPropagation(),n(Ft)!==o&&ao(o))}function wl(i,o){Vr(i)&&(i.preventDefault(),i.stopPropagation(),!(n(Ft)===o||n(En)===o)&&ao(o))}function bl(i,o){if(!Vr(i))return;const d=i.currentTarget,g=i.relatedTarget;d&&g&&d.contains(g)||n(Ft)!==o&&pl(o)}function yl(i){Wa(),Qe=o=>{const d=o.target;if(!d||n(Xe)&&n(Xe).contains(d))return;const g=document.querySelector(`[data-app-button="${i}"]`);g&&g.contains(d)||Ht()},document.addEventListener("pointerdown",Qe,!0)}function Ga(i){if(!document.getElementById("global-css")){const g=document.createElement("link");g.id="global-css",g.rel="stylesheet",g.href="/themes/global.css",document.head.appendChild(g),console.log("ð¨ Loaded global styles")}const o=document.getElementById("theme-css");o&&o.remove();const d=document.createElement("link");d.id="theme-css",d.rel="stylesheet",d.href=`/themes/${i}.css`,document.head.appendChild(d),console.log(`ð¨ Loaded theme: ${i}`)}async function $t(){var i,o;s(T,!0),s(m,null),Ht();try{const d=await N("refresh_apps",{apiKey:c});let g=Array.isArray(d)?d.filter(h=>h.Enabled):[];P?g=g.filter(h=>{const p=h.ownership,F=h.owner;return p==="Global"||p==="Public"?!0:p==="Private"?!!(Array.isArray(F)&&F.includes(P)):!1}):g=g.filter(h=>h.ownership==="Global");const b=await Wu();console.log("ð¦ Loaded icon data from local storage:",Object.keys(b).length,"icons");for(const h of g){let p="";h.Icon||(h.Icon=[]),h.Icon[0]||(h.Icon[0]={}),h.IconB64&&h.IconB64.length>0?(h.Icon[0].iconDataUrl=h.IconB64,p="Airtable IconB64 field"):h.Target&&b[h.Target]&&(h.Icon[0].iconDataUrl=b[h.Target],p="local cache"),p&&console.log("ð¨ Attaching icon to:",h.Name,"from",p)}const S=await mi();console.log("ð Loaded custom apps from storage:",S);for(const h of S)if(console.log("ð Processing custom app:",h.Name,"Icon:",h.Icon),h.Icon&&h.Icon[0]&&h.Icon[0].path&&!h.Icon[0].iconDataUrl)try{console.log("â³ Loading icon data URL for:",h.Name);const p=await Yr(h.Icon[0].path);p&&(h.Icon[0].iconDataUrl=p,console.log("â Icon data URL set for:",h.Name))}catch(p){console.warn("Could not load icon data URL for stored app:",p)}else console.log("â­ï¸ Skipping icon load:",h.Name,"- path:",(i=h.Icon[0])==null?void 0:i.path,"- iconDataUrl:",(o=h.Icon[0])==null?void 0:o.iconDataUrl);const y=[...g,...S];for(const h of y)if(h.Parent&&Array.isArray(h.Parent)&&h.Parent.length>0){const p=h.Parent[0],F=y.find(H=>H.id===p);F&&(console.log(`ð¨âð§ Applying inheritance from ${F.Name} to ${h.Name}`),h.ownership=F.ownership,h.owner=F.owner,h.HideFrom=F.HideFrom,h.PublicUsers=F.PublicUsers,console.log(`   â Inherited: ownership=${h.ownership}, owner=${h.owner}`))}const _=y.filter(h=>h.Children);_.length>0&&console.log("ð Apps with Children field:",_.map(h=>({name:h.Name,children:h.Children,childrenType:typeof h.Children,isArray:Array.isArray(h.Children)}))),console.log("ð Final apps array before render"),s(f,y)}catch(d){console.error(d),s(m,"Failed to load apps.")}finally{s(T,!1)}}async function Yr(i){var o;if(console.log("ðµ loadIconDataUrl called with:",i),R.has(i)){console.log("ð¦ Icon cache hit:",i);const d=R.get(i)||"";return console.log("ð¦ Returning cached icon, length:",d.length),d}try{console.log("ð¥ Step 1: Loading icon from disk via Rust...",i);const d=await N("load_icon_base64",{path:i});console.log("â Step 1 complete: Icon loaded, size:",d.length,"chars"),console.log("ð Data URL preview (first 100 chars):",d.substring(0,100));const g=(o=i.split(".").pop())==null?void 0:o.toLowerCase();console.log("ð File extension detected:",g);let b=d;if(g==="icns"){console.log("ð Step 2: File is .icns, starting PNG extraction..."),console.log("   Step 2a: Splitting data URL to get base64 part...");const S=d.split(",")[1];console.log("   Step 2b: Base64 data length:",S.length),console.log("   Step 2c: Decoding base64 to binary string...");const y=atob(S);console.log("   Step 2d: Binary string length:",y.length),console.log("   Step 2e: Converting to Uint8Array...");const _=new Uint8Array(y.length);for(let p=0;p<y.length;p++)_[p]=y.charCodeAt(p);console.log("   Step 2f: Uint8Array created, length:",_.length);const h=_.buffer;console.log("   Step 2g: ArrayBuffer created, byteLength:",h.byteLength),console.log("   Step 2h: Calling extractPngFromIcnsBuffer..."),b=await Ba(h),console.log("â Step 2 complete: PNG extracted, size:",b.length,"chars"),console.log("ð Extracted PNG preview (first 100 chars):",b.substring(0,100))}else console.log("â­ï¸ Step 2: Skipped (not .icns file)");return console.log("ð¾ Step 3: Caching data URL..."),R.set(i,b),console.log("â Step 3 complete: Data URL cached"),console.log("ð loadIconDataUrl complete, returning data URL"),b}catch(d){return console.error("â Failed to load icon from path:",i),console.error("   Error details:",d),""}}async function Ba(i){var y,_,h,p;console.log("ð¢ extractPngFromIcnsBuffer called, buffer size:",i.byteLength);const o=new DataView(i);console.log("   Checking magic number...");const d=o.getUint32(0);if(console.log("   Magic number:",d.toString(16),"(expected: 69636e73)"),d!==1768124019)throw console.error("â Invalid magic number!"),new Error("Not a valid .icns file (invalid magic number)");console.log("   â Valid .icns magic number confirmed"),console.log("ð Searching for PNG data in .icns container...");let g=8;const b=i.byteLength;console.log("   File size:",b,"bytes, starting at offset 8");let S=0;for(;g<b-8;){S++;const F=new Uint8Array(i,g,4),H=String.fromCharCode(...F),v=o.getUint32(g+4,!1);if(console.log(`  Chunk #${S}: type="${H}", size=${v}, offset=${g}`),["ic09","ic08","ic07","ic06","it32"].includes(H)){console.log(`    ð¯ Found target chunk type: ${H}`);const k=g+8,M=v-8;console.log(`    Chunk data: start=${k}, size=${M}`);const te=new Uint8Array(i,k,M);if(console.log(`    Checking for PNG magic in chunk data (first 4 bytes: ${(y=te[0])==null?void 0:y.toString(16)} ${(_=te[1])==null?void 0:_.toString(16)} ${(h=te[2])==null?void 0:h.toString(16)} ${(p=te[3])==null?void 0:p.toString(16)})`),te.length>=4&&te[0]===137&&te[1]===80&&te[2]===78&&te[3]===71){console.log(`â Found PNG in ${H} chunk at offset ${k}, size: ${te.length} bytes`),console.log("    Creating blob from PNG data...");const ne=new Blob([te],{type:"image/png"});return console.log("    Blob created, size:",ne.size,"bytes"),console.log("    Converting blob to data URL via FileReader..."),new Promise((fe,be)=>{const ge=new FileReader;ge.onload=()=>{const oe=ge.result;console.log(`â FileReader complete: data URL length ${oe.length} chars`),console.log(`   Data URL preview: ${oe.substring(0,60)}...`),fe(oe)},ge.onerror=oe=>{console.error("â FileReader error:",oe),be(new Error("Failed to read PNG blob"))},ge.readAsDataURL(ne)})}}g+=v}throw new Error("No PNG data found in .icns file")}const _l=[200,160,120,80,40,20],Al=22,El=8;function Un(i){const o=document.createElement("canvas"),d=o.getContext("2d");if(!d||!i.naturalWidth&&!i.width)return 0;const g=Math.max(i.naturalWidth||i.width,i.naturalHeight||i.height),S=Math.min(256,g)/g;o.width=Math.max(1,Math.round((i.naturalWidth||i.width)*S)),o.height=Math.max(1,Math.round((i.naturalHeight||i.height)*S)),d.drawImage(i,0,0,o.width,o.height);try{const _=d.getImageData(0,0,o.width,o.height).data,h=p=>{let F=o.width,H=o.height,v=0,k=0,M=!1;for(let xe=0;xe<o.height;xe++)for(let pe=0;pe<o.width;pe++)_[(xe*o.width+pe)*4+3]>=p&&(M=!0,pe<F&&(F=pe),xe<H&&(H=xe),pe>v&&(v=pe),xe>k&&(k=xe));if(!M||v<=F||k<=H)return null;const te=v-F,ne=k-H,fe=o.width/te,be=o.height/ne,oe=(Math.max(fe,be)-1)*100;return oe>2?Math.min(oe,Al):0};for(const p of _l){const F=h(p);if(F)return F}}catch(y){const _=(y==null?void 0:y.message)??"";if(_.toLowerCase().includes("tainted")||_.toLowerCase().includes("cross-origin")){const h=i.naturalWidth||i.width,p=i.naturalHeight||i.height;if(Math.max(h,p)>=128)return console.warn("Icon margin detection blocked by CORS, using fallback zoom"),El}console.warn("Icon margin detection failed, falling back to no zoom",y)}return 0}function Kr(i){console.log("ð£ dataUrlToBlobUrl called, input length:",i.length),console.log("   Input preview (first 100 chars):",i.substring(0,100));try{console.log("   Step 1: Matching data URL pattern...");const o=i.match(/^data:([^;]+);base64,(.+)$/);if(!o)return console.warn("â ï¸ Invalid data URL format - no match!"),console.warn("   Input was:",i.substring(0,150)),console.warn("   Returning original data URL"),i;console.log("   â Pattern matched");const d=o[1],g=o[2];console.log(`   Step 2: MIME type: ${d}, base64 length: ${g.length}`),console.log("   Step 3: Decoding base64...");const b=atob(g);console.log(`   Step 4: Binary string length: ${b.length}`),console.log("   Step 5: Converting to Uint8Array...");const S=new Uint8Array(b.length);for(let h=0;h<b.length;h++)S[h]=b.charCodeAt(h);console.log(`   â Uint8Array created: ${S.length} bytes`),console.log("   Step 6: Creating Blob...");const y=new Blob([S],{type:d});console.log(`   â Blob created: size=${y.size} bytes, type=${y.type}`),console.log("   Step 7: Creating object URL...");const _=URL.createObjectURL(y);return console.log("   â Blob URL created:",_),console.log("ð dataUrlToBlobUrl complete, returning blob URL"),_}catch(o){return console.error("â dataUrlToBlobUrl failed with error:",o),console.error("   Error stack:",o.stack),console.error("   Falling back to original data URL"),i}}async function qr(i,o){if(i)try{await N("open_target",{params:{target:i,app_type:o}})}catch(d){const g=d instanceof Error?d.message:String(d);console.error("Launch failed:",g),s(m,`Failed to launch: ${g}`),setTimeout(()=>{s(m,null)},5e3)}}async function io(i,o,d){i.preventDefault();const g=!!d;dn(),g||Ht(),s(ze,o),s(kr,d??null),s(Zi,i.clientX),s(Ji,i.clientY),await Ei(),Dl()}function dn(){oo(),s(ze,null),s(kr,null),s(Qn,null)}function Dl(){if(typeof window>"u"||er)return;const i=d=>{n(Qn)&&n(Qn).contains(d.target)||dn()},o=()=>{dn()};window.addEventListener("pointerdown",i,!0),window.addEventListener("wheel",o,!0),window.addEventListener("scroll",o,!0),window.addEventListener("resize",o,!0),er=()=>{window.removeEventListener("pointerdown",i,!0),window.removeEventListener("wheel",o,!0),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o,!0),er=null}}function oo(){er&&er()}async function Tl(i){console.log("ðï¸ Delete clicked for:",i==null?void 0:i.Name),s(ln,i),dn()}async function Cl(){if(!n(ln))return;const i=n(ln);console.log("â Confirmed deleting app:",i.Name);try{if(i.ownership==="Public"&&i.PublicUsers&&Array.isArray(i.PublicUsers)&&i.PublicUsers.length>0){console.log("ð Public app has users, transferring ownership instead of deleting");const o=i.PublicUsers[0];console.log("ð¤ Transferring ownership to user:",o);const d=i.PublicUsers.filter(g=>g!==o);if(console.log("ð Updated PublicUsers list:",d),i.id){await _r(i.id,{Owner:[o]});try{const g=await fetch(`https://api.airtable.com/v0/appL7Lq4VPcHgAewL/tblr8L369WEh7mGYh/${i.id}`,{method:"PATCH",headers:{Authorization:u,"Content-Type":"application/json"},body:JSON.stringify({fields:{PublicUsers:d}})});if(g.ok)console.log("â PublicUsers list updated");else{const b=await g.json();console.error("â ï¸ Warning: Could not update PublicUsers:",b)}}catch(g){console.error("â ï¸ Warning: Error updating PublicUsers:",g)}console.log("â Ownership transferred to:",o)}s(w,`Ownership transferred: ${i.Name}`)}else{if(console.log("ðï¸ Deleting app (no active users or not public)"),i.id&&(console.log("ðï¸ Deleting from Airtable:",i.id),await Vu(i.id)),i.isCustom){const d=(await mi()).filter(g=>g.Target!==i.Target);await is(d)}s(w,`Deleted: ${i.Name}`)}s(f,n(f).filter(o=>o.Target!==i.Target))}catch(o){console.error("â Error deleting app:",o),s(m,`Failed to delete app: ${o}`)}finally{s(ln,null),setTimeout(()=>{s(w,null),s(m,null)},15e3),await $t()}}function ja(){console.log("â Delete cancelled"),s(ln,null)}async function Sl(i){if(console.log("ð Hide clicked for:",i==null?void 0:i.Name),!P||!i.id){console.error("â Cannot hide app: missing user ID or app ID");return}dn();try{if(i.ownership==="Global"){await Yu(i.id,P),s(w,`Hidden: ${i.Name}`);const o=await N("fetch_users",{apiKey:c});s(x,Array.isArray(o)?o:[]);const d=n(x).find(g=>g.id===P);d&&s(U,d)}else if(i.ownership==="Public"){await Ku(i.id,P),s(w,`Hidden: ${i.Name}`);const o=await N("fetch_users",{apiKey:c});s(x,Array.isArray(o)?o:[]);const d=n(x).find(g=>g.id===P);d&&s(U,d)}else{console.warn("â ï¸ Cannot hide Private apps");return}await $t(),setTimeout(()=>{s(w,null)},15e3)}catch(o){console.error("â Error hiding app:",o),s(m,`Failed to hide app: ${o}`),setTimeout(()=>{s(m,null)},5e3)}}async function Zr(i){if(console.log("â Adding public app to user:",i),!P){s(m,"Please select a user first"),setTimeout(()=>{s(m,null)},3e3);return}try{console.log("   Fetching user data for:",P);const o=await fetch(`https://api.airtable.com/v0/appL7Lq4VPcHgAewL/tblbpYp0Cza2JMKKR/${P}`,{headers:{Authorization:u}});if(!o.ok){const b=await o.text();throw console.error("â Failed to fetch user:",o.status,b),new Error(`Failed to fetch user: ${o.statusText}`)}const d=await o.json();console.log("   Current user data:",d);const g=d.fields.PublicApps||[];if(console.log("   Current Public Apps list:",g),g.includes(i))console.log("   App already in user's list");else{g.push(i),console.log("   Updating with new PublicApps list:",g);const b=await fetch(`https://api.airtable.com/v0/appL7Lq4VPcHgAewL/tblbpYp0Cza2JMKKR/${P}`,{method:"PATCH",headers:{Authorization:u,"Content-Type":"application/json"},body:JSON.stringify({fields:{PublicApps:g}})});if(!b.ok){const h=await b.json();throw console.error("â Failed to add public app:",h),new Error(`Failed to add public app: ${b.statusText}`)}const S=await b.json();console.log("â Update successful:",S),n(U)&&(hn(U,n(U).PublicApps=g),console.log("   Updated selectedUser.PublicApps:",n(U).PublicApps)),s(w,"Added to your apps!");const y=await N("fetch_users",{apiKey:c});s(x,Array.isArray(y)?y:[]);const _=n(x).find(h=>h.id===P);_&&(s(U,_),console.log("   Refreshed selectedUser from server:",n(U))),await $t(),setTimeout(()=>{s(w,null)},15e3)}}catch(o){console.error("â Error adding public app:",o),s(m,`Failed to add app: ${o}`),setTimeout(()=>{s(m,null)},5e3)}}async function so(i){if(console.log("ð Unhiding global app:",i),!P){s(m,"Please select a user first"),setTimeout(()=>{s(m,null)},3e3);return}try{const o=await fetch(`https://api.airtable.com/v0/appL7Lq4VPcHgAewL/tblbpYp0Cza2JMKKR/${P}`,{headers:{Authorization:u}});if(!o.ok)throw new Error(`Failed to fetch user: ${o.statusText}`);const b=((await o.json()).fields.HideGlobal||[]).filter(h=>h!==i),S=await fetch(`https://api.airtable.com/v0/appL7Lq4VPcHgAewL/tblbpYp0Cza2JMKKR/${P}`,{method:"PATCH",headers:{Authorization:u,"Content-Type":"application/json"},body:JSON.stringify({fields:{HideGlobal:b}})});if(!S.ok)throw new Error(`Failed to unhide app: ${S.statusText}`);n(U)&&hn(U,n(U).HideGlobal=b),s(w,"App unhidden!");const y=await N("fetch_users",{apiKey:c});s(x,Array.isArray(y)?y:[]);const _=n(x).find(h=>h.id===P);_&&s(U,_),await $t(),setTimeout(()=>{s(w,null)},15e3)}catch(o){console.error("â Error unhiding app:",o),s(m,`Failed to unhide app: ${o}`),setTimeout(()=>{s(m,null)},5e3)}}function Il(i){var o,d,g,b;console.log("âï¸ Opening edit pane for:",i.Name),s(J,i),s(ht,i.Name),s(Tt,i.Target),s(Ct,i.type_field||"web"),s(cn,i.ownership==="Public"?"Public":"Private"),pt=((d=(o=i.Icon)==null?void 0:o[0])==null?void 0:d.path)||"",s(De,((b=(g=i.Icon)==null?void 0:g[0])==null?void 0:b.iconDataUrl)||""),s(ot,Array.isArray(i.Parent)&&i.Parent.length>0?i.Parent[0]:""),s(Wt,!0),dn()}function lo(){console.log("â Opening create pane"),s(J,null),s(ht,""),s(Tt,""),s(Ct,"web"),s(cn,"Private"),pt="",s(De,""),s(ot,""),s(Wt,!0)}function dr(){console.log("â Edit/Create cancelled"),s(Wt,!1),s(J,null),s(ht,""),s(Tt,""),s(Ct,"web"),s(cn,"Private"),pt="",s(De,""),s(ot,"")}async function Pl(){var i,o;if(!n(ht).trim()){s(m,"App name is required"),setTimeout(()=>{s(m,null)},3e3);return}if(!n(Tt).trim()){s(m,"Target URL/path is required"),setTimeout(()=>{s(m,null)},3e3);return}try{if(n(J)){console.log("ð¾ Saving edited app:",n(ht));const d=Array.isArray(n(J).Parent)&&n(J).Parent.length>0?n(J).Parent[0]:"",g=n(ot)||"",b=d!==g,S=g?n(f).find(h=>h.id===g):null;if(g&&!cr(n(J),S))return;const y={Name:n(ht),Target:n(Tt),Type:n(Ct),Ownership:n(cn)};b&&(y.Parent=g?[g]:[]),n(J).id&&(await _r(n(J).id,y),n(De)&&n(De)!==((o=(i=n(J).Icon)==null?void 0:i[0])==null?void 0:o.iconDataUrl)&&(await _r(n(J).id,{IconB64:n(De)}),await wi(n(Tt),n(De))));const _=n(f).findIndex(h=>h.Target===n(J).Target);if(_>=0&&(hn(f,n(f)[_].Name=n(ht)),hn(f,n(f)[_].Target=n(Tt)),hn(f,n(f)[_].type_field=n(Ct)),b&&(hn(f,n(f)[_].Parent=g?[g]:[]),hn(J,n(J).Parent=g?[g]:[])),(pt||n(De))&&hn(f,n(f)[_].Icon=[{path:pt,iconDataUrl:n(De)}])),n(J).isCustom){const h=await mi(),p=h.findIndex(F=>F.Target===n(J).Target);p>=0&&(h[p].Name=n(ht),h[p].Target=n(Tt),h[p].type_field=n(Ct),(pt||n(De))&&(h[p].Icon=[{path:pt,iconDataUrl:n(De)}]),await is(h))}s(w,`Updated: ${n(ht)}`)}else{if(console.log("â Creating new app:",n(ht)),!P){s(m,"Please select a user first"),setTimeout(()=>{s(m,null)},5e3);return}const d=n(ot)?n(f).find(b=>b.id===n(ot)):null;if(n(ot)&&!cr(null,d))return;const g=await ss({Name:n(ht),Target:n(Tt),Type:n(Ct),Enabled:!0,Icon:n(De),Ownership:n(cn),Owner:[P],Parent:n(ot)?[n(ot)]:void 0},P);n(De)&&await wi(n(Tt),n(De)),await $t(),s(w,`Created: ${n(ht)}`)}setTimeout(()=>{s(w,null)},15e3),dr()}catch(d){console.error("â Error saving app:",d),s(m,`Failed to save app: ${d}`),setTimeout(()=>{s(m,null)},5e3)}}async function Ol(){try{const i=document.createElement("input");i.type="file",i.accept=".icns,.ico,.png",i.onchange=async o=>{var g,b;const d=(g=o.target.files)==null?void 0:g[0];if(d){console.log("ð Selected icon file:",d.name);const S=(b=d.name.split(".").pop())==null?void 0:b.toLowerCase();try{if(S==="icns"){const y=await d.arrayBuffer(),_=await Ba(y);s(De,_),pt=d.name,console.log("â Icon loaded for editing (PNG extracted from .icns)")}else{const y=new FileReader;y.onload=_=>{s(De,_.target.result),pt=d.name,console.log("â Icon loaded for editing (.png/.ico)")},y.onerror=()=>{console.error("â Failed to read file"),s(m,"Failed to read icon file"),setTimeout(()=>{s(m,null)},3e3)},y.readAsDataURL(d)}}catch(y){console.error("â Failed to process icon file:",y),s(m,`Failed to process icon: ${y instanceof Error?y.message:"Unknown error"}`),setTimeout(()=>{s(m,null)},3e3)}}},i.click()}catch(i){console.error("â Failed to open file dialog:",i),s(m,"Failed to open file dialog"),setTimeout(()=>{s(m,null)},3e3)}}function Nl(){console.log("ðï¸ Removing icon from edit pane"),pt="",s(De,"")}async function co(i){var S,y;i.preventDefault(),i.stopPropagation(),console.log("ð¥ handleEditPaneDrop called");const o=(S=i.dataTransfer)==null?void 0:S.files;if(!o||o.length===0){console.log("â No files in drop"),s(Rt,!1);return}const d=o[0],g=d.path||d.webkitRelativePath||d.name;if(!g){console.log("â No file path"),s(Rt,!1);return}const b=(y=g.split(".").pop())==null?void 0:y.toLowerCase();if(!["icns","ico","png"].includes(b||"")){s(m,"Only PNG, ICO, or ICNS files are supported"),setTimeout(()=>{s(m,null)},3e3),console.log("â Unsupported file type:",b),s(Rt,!1);return}console.log("ð¨ Dropped icon file:",g);try{if(d.path){pt=g;const _=await Yr(g);s(De,_),console.log("â Icon loaded from drop (backend), resetting editPaneDragActive"),s(Rt,!1)}else if(b==="icns"){const _=await d.arrayBuffer(),h=await Ba(_);s(De,h),pt=d.name,console.log("â Icon loaded from drop (PNG extracted from .icns), resetting editPaneDragActive"),s(Rt,!1)}else{const _=new FileReader;_.onload=h=>{s(De,h.target.result),pt=d.name,console.log("â Icon loaded from drop (.png/.ico), resetting editPaneDragActive"),s(Rt,!1)},_.onerror=()=>{console.error("â Failed to read dropped file"),s(m,"Failed to read icon file"),setTimeout(()=>{s(m,null)},3e3),console.log("â FileReader error, resetting editPaneDragActive"),s(Rt,!1)},_.readAsDataURL(d)}}catch(_){console.error("â Failed to process dropped icon:",_),s(m,`Failed to process icon: ${_ instanceof Error?_.message:"Unknown error"}`),setTimeout(()=>{s(m,null)},3e3),console.log("â Exception in drop handler, resetting editPaneDragActive"),s(Rt,!1)}}async function un(){const i={iconSize:Number(n(ue)),iconPadding:Number(n(ie)),gridColumns:Number(n(Ae)),textSize:Number(n(Se)),marginMin:Number(n(_e)),appIconRadius:Number(n(we)),theme:n(ce),newAppButtonLocation:n(je)};if(await Fu(i),P)try{const o=JSON.stringify(i);await N("update_user_settings",{userId:P,settingsJson:o,apiKey:c}),console.log("ð¾ Settings saved to Airtable for user:",n(q))}catch(o){console.error("Failed to save settings to Airtable:",o)}}gc(async()=>{const i=await Lu();if(console.log("ð App data directory:",i),P=await Hu(),P)try{const v=await N("fetch_users",{apiKey:c});s(x,Array.isArray(v)?v:[]);const k=n(x).find(M=>M.id===P);if(k){if(s(q,k.Name),s(U,k),console.log("ð¤ Loaded selected user:",n(q)),k.UserSettings){const M=await os(k.UserSettings);s(ue,M.iconSize),s(ie,M.iconPadding),s(Ae,M.gridColumns),s(Se,M.textSize),s(_e,M.marginMin),s(we,M.appIconRadius),s(ce,M.theme),s(je,M.newAppButtonLocation),console.log("ð§© Settings loaded from user record")}else{const M=await pi();s(ue,M.iconSize),s(ie,M.iconPadding),s(Ae,M.gridColumns),s(_e,M.marginMin??n(_e)),s(we,M.appIconRadius??n(we)),s(Se,M.textSize),s(ce,M.theme??n(ce)),s(je,M.newAppButtonLocation??n(je)),console.log("ð§© Settings loaded from local storage")}try{s(Q,await ls(P)),console.log("ð¯ App order loaded for user:",n(Q))}catch(M){console.warn("â ï¸ Failed to load app order:",M),s(Q,[])}}}catch(v){console.warn("Could not fetch users:",v);const k=await pi();s(ue,k.iconSize),s(ie,k.iconPadding),s(Ae,k.gridColumns),s(_e,k.marginMin??n(_e)),s(we,k.appIconRadius??n(we)),s(Se,k.textSize),s(ce,k.theme??n(ce)),s(je,k.newAppButtonLocation??n(je))}else{const v=await pi();s(ue,v.iconSize),s(ie,v.iconPadding),s(Ae,v.gridColumns),s(_e,v.marginMin??n(_e)),s(we,v.appIconRadius??n(we)),s(Se,v.textSize),s(ce,v.theme??n(ce)),s(je,v.newAppButtonLocation??n(je))}Ga(n(ce)),P||await po(),await $t(),Ur=window.innerWidth,Va(),window.addEventListener("resize",uo),console.log("ð Attaching drag-and-drop listeners...");const o=v=>{if(document.querySelector('.tray-overlay[aria-label="Close edit pane"]')!==null){console.log("ð¥ Document dragover - BLOCKED (edit pane open)");return}console.log("ð¥ Document dragover detected"),v.preventDefault(),v.stopPropagation(),s(A,!0)},d=v=>{document.querySelector('.tray-overlay[aria-label="Close edit pane"]')===null&&(console.log("ð¥ Document dragleave detected"),s(A,!1))},g=v=>{if(document.querySelector('.tray-overlay[aria-label="Close edit pane"]')!==null){console.log("ð¥ Document drop - SKIPPED (edit pane open, using element handlers)");return}console.log("ð¥ Document drop detected",v),fn(v)};document.addEventListener("dragover",o,!0),document.addEventListener("dragleave",d,!0),document.addEventListener("drop",g,!0);const b=v=>{if(document.querySelector('.tray-overlay[aria-label="Close edit pane"]')!==null){console.log("ðª Window dragover - SKIPPED (edit pane open)");return}console.log("ðª Window dragover detected"),v.preventDefault(),v.stopPropagation(),s(A,!0)},S=v=>{if(document.querySelector('.tray-overlay[aria-label="Close edit pane"]')!==null){console.log("ðª Window drop - SKIPPED (edit pane open, using element handlers)");return}console.log("ðª Window drop detected"),fn(v)};window.addEventListener("dragover",b,!0),window.addEventListener("drop",S,!0);const y=document.querySelector(".container");y&&(y.addEventListener("dragover",v=>{console.log("ï¿½ Container dragover detected"),Ya(v)}),y.addEventListener("dragleave",v=>{console.log("ð¦ Container dragleave detected"),Ka(v)}),y.addEventListener("drop",v=>{console.log("ï¿½ Container drop detected"),fn(v)}),console.log("â Container drag-and-drop listeners attached"));const _=["tauri://drag-drop"];for(const v of _)try{await Cr(v,async k=>{if((ne=>ne?!!(Array.isArray(ne)&&ne.length>0&&typeof ne[0]=="string"||ne&&ne.paths&&Array.isArray(ne.paths)&&ne.paths.length>0):!1)(k==null?void 0:k.payload)){const ne=k.payload;Array.isArray(ne)?qa(ne):typeof ne=="string"?qa([ne]):ne&&ne.paths&&qa(ne.paths)}}),console.log("â Tauri drag-drop ready")}catch(k){console.warn(`â ï¸ Could not setup "${v}" listener:`,k)}await Cr("trigger-search-focus",()=>{console.log("ð Received trigger-search-focus event"),s(St,!0)}),await Cr("trigger-search-toggle",()=>{console.log("ð Received trigger-search-toggle event"),n(St)&&n(V).trim()?s(V,""):n(St)?s(St,!1):s(St,!0)});const h=al(),p=await Bu();if(p)try{console.log("ðª Restoring window state (logical coords):",p);const v=Math.max(p.width,400),k=Math.max(p.height,300);console.log("ð Restoring size:",v,"x",k,"at",p.x,",",p.y),await h.setPosition(new Bi(p.x,p.y)),await h.setSize(new Gi(v,k)),console.log("â Window state restored")}catch(v){console.warn("â ï¸ Could not restore window state:",v)}try{await h.show(),await h.setFocus()}catch{console.log("Window already visible or cannot control visibility")}const F=async()=>{try{const v=await h.outerPosition(),k=await h.outerSize(),M=await h.scaleFactor(),te=Math.round(v.x/M),ne=Math.round(v.y/M),fe=Math.round(k.width/M),be=Math.round(k.height/M),ge=Math.max(fe,400),oe=Math.max(be,300);await ju({x:te,y:ne,width:ge,height:oe})}catch{}},H=()=>{ar!==null&&clearTimeout(ar),ar=setTimeout(F,500)};try{Ua=await h.onResized(v=>{H()}),Fa=await h.onMoved(v=>{H()})}catch{}Fr=()=>{H()},window.addEventListener("resize",Fr),Wr=()=>{F()},window.addEventListener("blur",Wr),Hr=()=>{F()},window.addEventListener("beforeunload",Hr)}),ii(()=>{Ua&&Ua(),Fa&&Fa(),Fr&&window.removeEventListener("resize",Fr),Wr&&window.removeEventListener("blur",Wr),Hr&&window.removeEventListener("beforeunload",Hr),ar!==null&&clearTimeout(ar),Ha()}),ii(()=>{oo()});function uo(){Ur=window.innerWidth,Va(),n(Ee)&&Xi()}function Va(){const i=n(Ae)*n(ue)+(n(Ae)-1)*n(ie),o=n(_e)*2+i;if(Ur<o){const d=Math.max(0,Ur-n(_e)*2),g=Math.floor((d-(n(Ae)-1)*n(ie))/n(Ae));s(me,Math.max(48,g))}else s(me,n(ue));fo()}function fo(){if(n(ue)<=0){s(nr,Math.max(11,n(Se)));return}const o=n(me)/n(ue),d=Math.max(11,Math.floor(n(Se)*o));s(nr,d)}function xl(){try{document.documentElement.style.setProperty("--icon-radius",`${n(we)}px`)}catch{}}const go=200;function Ll(i){var S,y,_;const o=i.detail,d=(S=o==null?void 0:o.info)==null?void 0:S.trigger,g=(y=o==null?void 0:o.info)==null?void 0:y.source,b=(_=o==null?void 0:o.info)==null?void 0:_.id;d===Ze.DRAG_STARTED&&g===gt.POINTER&&b&&(Dn=b,ul()),(d===Ze.DRAGGED_LEFT_ALL||d===Ze.DROPPED_OUTSIDE_OF_ANY)&&Ha(),n(sn)||s(le,o.items)}async function Rl(i){const o=Dn,d=n(Tn),g=!!(o&&d&&o!==d),b=i.detail.items,S=!!n(sn)&&!g;if(Ha(),g&&o&&d){await $l(o,d);return}if(S){s(le,[...n(le)]);return}s(le,b);const y=n(le).map(_=>_.id);if(s(Q,y),P)try{await bi(P,y),s(w,"Apps reordered"),setTimeout(()=>{s(w,null)},15e3)}catch{s(m,"Failed to save app order"),setTimeout(()=>{s(m,null)},3e3)}}async function Ya(i){const o=i;o.preventDefault(),o.stopPropagation(),s(A,!0),O=Vr(o),console.log("ð±ï¸ Drag over detected")}async function Ka(i){const o=i;o.preventDefault(),o.stopPropagation(),s(A,!1),o.relatedTarget||(O=!1,jr()),console.log("ð±ï¸ Drag leave detected")}async function fn(i){var y,_,h;const o=i;if(o.preventDefault(),o.stopPropagation(),s(A,!1),O=!1,!!zn&&!!zr&&o.dataTransfer&&Array.from(o.dataTransfer.types||[]).includes(qi)){const p=o.target;!(p?((y=n(Xe))==null?void 0:y.contains(p))??!1:!1)&&zn&&await ho(zn),s(Qt,null),jr(),ro();return}const g=n(Ft)??n(tr)??null;s(Qt,g),jr();const b=(_=o.dataTransfer)==null?void 0:_.files;if(!b||b.length===0){s(Qt,null);return}const S=[];for(let p=0;p<b.length;p++){const F=b[p],H=F;let v=H.path||H.webkitRelativePath||F.name;if(!v)continue;const k=(h=v.split(".").pop())==null?void 0:h.toLowerCase();if(["png","ico","icns"].includes(k||""))if(n(Wt)&&n(J)){console.log("ð¨ Icon file dropped during edit - updating app icon"),await co(o);continue}else{console.log("â­ï¸ Icon file dropped but edit pane not open - ignoring");continue}if(!["app","lnk","exe"].includes(k||"")){console.log("â­ï¸ Ignoring non-app file:",v);continue}S.push(v)}if(S.length>0){const p=Qi(S);if(eo("dom",p)){console.log("â­ï¸ Skipping DOM drop (already handled by Tauri)"),s(Qt,null);return}await vo(S,g),to("dom",p)}s(Qt,null)}async function qa(i){var S;console.log(`ð¦ Tauri drop with ${i.length} file(s)...`),s(A,!1),s(Rt,!1),O=!1;const o=n(Qt)??n(Ft)??n(tr)??null;if(s(Qt,null),jr(),!Array.isArray(i)||i.length===0){console.warn("â ï¸ No paths in drop");return}const g=document.querySelector('.tray-overlay[aria-label="Close edit pane"]')!==null;console.log(`Edit pane open: ${g}`);const b=[];for(const y of i)try{const _=(S=y.split(".").pop())==null?void 0:S.toLowerCase();if(console.log(`Processing file: ${y}, ext: ${_}`),["png","ico","icns"].includes(_||""))if(g&&n(J)){console.log("ð¨ Icon file dropped (Tauri) during edit - updating app icon");try{const h=await Yr(y);s(De,h),pt=y,console.log("â Icon loaded from Tauri drop")}catch(h){console.error("â Failed to load icon from Tauri drop:",h),s(m,`Failed to load icon: ${h instanceof Error?h.message:"Unknown error"}`),setTimeout(()=>{s(m,null)},3e3)}continue}else{console.log("â­ï¸ Icon file dropped (Tauri) but edit pane not open - ignoring");continue}if(!["app","lnk","exe"].includes(_||"")){console.log("â­ï¸ Ignoring non-app file (Tauri):",y);continue}b.push(y)}catch(_){const h=_ instanceof Error?_.message:String(_);console.error("â",h),s(m,`Failed to add app: ${h}`),setTimeout(()=>{s(m,null)},5e3)}if(b.length>0){const y=Qi(b);if(eo("tauri",y)){console.log("â­ï¸ Skipping Tauri drop (already handled by DOM)");return}await vo(b,o),to("tauri",y)}}async function vo(i,o){if(!i||i.length===0)return;if(!P){s(m,"No user selected. Please select a user to add apps."),setTimeout(()=>{s(m,null)},3e3);return}const d=o?n(f).find(b=>b.id===o):null;let g=!1;o&&d&&(g=cr(null,d,`You must own ${d.Name||"that app"} to add children.`));for(const b of i)try{s(m,null),console.log("ð Processing app:",b);const S=await N("get_app_info",{path:b});if(console.log("ð± App info received:",S),n(f).some(h=>h.Name===S.name||h.Target===S.target)){s(w,`${S.name} already exists`),console.log("â ï¸ App already exists:",S.name),setTimeout(()=>{s(w,null)},15e3);continue}let _="";if(S.icon)try{_=await Yr(S.icon),console.log("â Icon loaded, length:",_.length)}catch(h){console.warn("Could not load icon data URL:",h)}try{const h=await ss({Name:S.name,Target:S.target,Type:S.app_type||"mac app",Enabled:!0,Icon:_,Ownership:"Private",Owner:[P],Parent:g&&o?[o]:void 0},P);console.log("â App created in Airtable:",h),_&&(await wi(S.target,_),console.log("â Icon data cached locally for:",S.target)),await $t(),g&&o&&d?s(w,`Added child to ${d.Name}`):s(w,`Added: ${S.name}`),console.log("â",S.name)}catch(h){const p=h instanceof Error?h.message:String(h);console.error("â Failed to create app in Airtable:",p),s(m,`Failed to sync app to cloud: ${p}`),setTimeout(()=>{s(m,null)},5e3);continue}setTimeout(()=>{s(w,null)},15e3)}catch(S){const y=S instanceof Error?S.message:String(S);console.error("â",y),s(m,`Failed to add app: ${y}`),setTimeout(()=>{s(m,null)},5e3)}}async function $l(i,o){if(!i||!o||i===o)return;const d=n(f).find(b=>b.id===i),g=n(f).find(b=>b.id===o);if(!(!d||!g)&&cr(d,g))try{await _r(i,{Parent:[o]});const b=d.Name||"App",S=(g==null?void 0:g.Name)||"parent";s(w,`${b} moved under ${S}`),setTimeout(()=>{s(w,null)},15e3);const y=n(Q).filter(_=>_!==i);if(y.length!==n(Q).length&&(s(Q,y),P))try{await bi(P,y)}catch(_){console.warn("â ï¸ Failed to update app order after reparenting:",_)}await $t()}catch(b){console.error("â Failed to convert app to child:",b),s(m,`Failed to move app: ${b instanceof Error?b.message:b}`),setTimeout(()=>{s(m,null)},5e3)}}async function ho(i){const o=n(f).find(d=>d.id===i);if(o)try{await _r(i,{Parent:[]});const d=o.Name||"App";if(s(w,`${d} moved to the main grid`),setTimeout(()=>{s(w,null)},15e3),!n(Q).includes(i)){const g=[...n(Q),i];if(s(Q,g),P)try{await bi(P,g)}catch(b){console.warn("â ï¸ Failed to add detached child back to order:",b)}}await $t()}catch(d){console.error("â Failed to detach child app:",d),s(m,`Failed to detach app: ${d instanceof Error?d.message:d}`),setTimeout(()=>{s(m,null)},5e3)}}async function Ml(i){if(!(i!=null&&i.id))return;const o=n(Xn)??no(i);if(!o){s(m,"Could not find a parent for this app."),setTimeout(()=>{s(m,null)},5e3);return}cr(i,o,`You must own ${o.Name||"the parent"} and ${i.Name||"the child"} to unlink.`)&&(dn(),await ho(i.id))}async function kl(){try{const i=await N("fetch_users",{apiKey:c});s(x,Array.isArray(i)?i:[]),console.log("ð¥ Fetched users:",n(x))}catch(i){console.error("Failed to fetch users:",i),s(m,"Failed to load users"),setTimeout(()=>{s(m,null)},3e3)}}async function po(){s(W,!0),await kl()}function Jr(){s(W,!1),s(Z,""),s(ae,!1),s($,"")}async function mo(i,o){P=i,s(q,o);const d=n(x).find(g=>g.id===i);if(s(U,d),d&&d.UserSettings){const g=await os(d.UserSettings);s(ue,g.iconSize),s(ie,g.iconPadding),s(Ae,g.gridColumns),s(Se,g.textSize),s(_e,g.marginMin),s(ce,g.theme??n(ce)),s(we,g.appIconRadius),s(je,g.newAppButtonLocation),console.log("ð§© Settings applied from user record:",g),Ga(n(ce))}try{s(Q,await ls(i)),console.log("ð¯ App order loaded for user:",n(Q))}catch(g){console.warn("â ï¸ Failed to load app order:",g),s(Q,[])}await Gu(i),Jr(),await $t()}async function wo(){if(!n(Z).trim()){s(m,"Please enter a name"),setTimeout(()=>{s(m,null)},3e3);return}try{const i=await N("create_user",{name:n(Z).trim(),apiKey:c});console.log("â Created user:",i),await mo(i.id,i.Name)}catch(i){console.error("Failed to create user:",i),s(m,"Failed to create user"),setTimeout(()=>{s(m,null)},3e3)}}ii(()=>{window.removeEventListener("resize",uo);const i=document.querySelector(".container");i&&(i.removeEventListener("dragover",Ya),i.removeEventListener("dragleave",Ka),i.removeEventListener("drop",fn)),document.removeEventListener("dragover",Ya),document.removeEventListener("dragleave",Ka),document.removeEventListener("drop",fn),Wa()}),lt(()=>(n(En),n(sn)),()=>{s(r,n(En)??n(sn))}),lt(()=>(n(Ft),n(Tn)),()=>{s(a,n(Ft)??n(Tn))}),lt(()=>(n(ze),n(kr)),()=>{s(Xn,n(ze)?n(kr)??no(n(ze)):null)}),lt(()=>(n(ze),n(Xn)),()=>{s(ji,!!(n(ze)&&n(Xn)&&ll(n(ze),n(Xn))))}),lt(()=>(n(V),n(f),n(U),n(Q)),()=>{const i=n(V).trim(),o=i!=="";s(sr,o);const d=i.toLowerCase();let g=n(f).filter(b=>{var y;return o&&!((y=b.Name)==null?void 0:y.toLowerCase().includes(d))||b.Parent&&Array.isArray(b.Parent)&&b.Parent.length>0&&!o?!1:b.ownership==="Global"?!(n(U)&&n(U).HideGlobal&&Array.isArray(n(U).HideGlobal)&&n(U).HideGlobal.includes(b.id)):b.ownership==="Public"?!!(n(U)&&(b.owner&&Array.isArray(b.owner)&&b.owner.includes(n(U).id)||b.PublicUsers&&Array.isArray(b.PublicUsers)&&b.PublicUsers.includes(n(U).id))):b.ownership==="Private"?!n(U)||!b.owner||!Array.isArray(b.owner)?!1:b.owner.includes(n(U).id):!1});n(Q)&&n(Q).length>0&&g.sort((b,S)=>{const y=n(Q).indexOf(b.id),_=n(Q).indexOf(S.id);return y!==-1&&_!==-1?y-_:y!==-1?-1:_!==-1?1:0}),s(le,g)}),lt(()=>(n(Ee),n(f)),()=>{s(We,n(Ee)?n(f).find(i=>i.id===n(Ee))??null:null)}),lt(()=>(n(We),n(ft),n(f)),()=>{if(!n(We))s(ft,[]);else if(n(We).Children&&Array.isArray(n(We).Children)){const i=n(f).filter(o=>{var d;return(d=n(We).Children)==null?void 0:d.includes(o.id)});s(ft,i),n(ft).length===0&&Ht()}}),lt(()=>(n(f),n(V),n(U)),()=>{let i=n(f).filter(o=>{var d;if(n(V).trim()!==""){const g=n(V).toLowerCase();if(!((d=o.Name)==null?void 0:d.toLowerCase().includes(g)))return!1}return o.Parent&&Array.isArray(o.Parent)&&o.Parent.length>0||o.ownership==="Private"?!1:o.ownership==="Global"?!!(n(U)&&n(U).HideGlobal&&Array.isArray(n(U).HideGlobal)&&n(U).HideGlobal.includes(o.id)):o.ownership==="Public"&&n(U)?!(o.owner&&Array.isArray(o.owner)&&o.owner.includes(n(U).id)||o.PublicUsers&&Array.isArray(o.PublicUsers)&&o.PublicUsers.includes(n(U).id)):!1});s(Br,i)}),lt(()=>(n(St),n(rr)),()=>{n(St)&&n(rr)&&n(rr).focus()}),lt(()=>(n(J),n(le),n(ot),n(f)),()=>{s(or,(()=>{const i=n(J)?Cn(n(J)):!0,o=Array.isArray(n(le))?n(le).filter(d=>{var g;return d.id!==(((g=n(J))==null?void 0:g.id)??"")&&Cn(d)&&i}):[];if(n(ot)&&!o.some(d=>d.id===n(ot))){const d=n(f).find(g=>g.id===n(ot));if(d&&Cn(d)&&i)return[d,...o]}return o})())}),lt(()=>(n(J),n(f)),()=>{if(n(J)&&n(J).Children&&Array.isArray(n(J).Children)&&n(J).Children.length>0){const i=n(J).Children;s(ir,n(f).filter(o=>i.includes(o.id)))}else s(ir,[])}),lt(()=>(n(ue),n(Ae),n(ie),n(_e)),()=>{(n(ue)||n(Ae)||n(ie)||n(_e))&&Va()}),lt(()=>n(Se),()=>{n(Se)&&fo()}),lt(()=>n(we),()=>{n(we)&&xl()}),lt(()=>n(f),()=>{var i,o,d,g,b,S,y;if(n(f)&&n(f).length>0){const _=n(f).find(h=>h.Name==="Parsec");_&&console.log("ð Parsec app state:",{Name:_.Name,Target:_.Target,hasIcon:!!_.Icon,iconLength:(i=_.Icon)==null?void 0:i.length,icon0Path:(d=(o=_.Icon)==null?void 0:o[0])==null?void 0:d.path,icon0Url:(b=(g=_.Icon)==null?void 0:g[0])!=null&&b.url?"(exists)":"(none)",icon0IconDataUrl:(y=(S=_.Icon)==null?void 0:S[0])!=null&&y.iconDataUrl?`(${_.Icon[0].iconDataUrl.substring(0,50)}...)`:"(none)"})}}),lt(()=>(n(x),n($)),()=>{s(B,n(x).filter(i=>n($)?(i.Name||"").toLowerCase().includes(n($).toLowerCase()):!0))}),Bc(),Ps();var bo=vg(),yo=ve(bo);{var zl=i=>{var o=uf();L("dragover",o,d=>{d.preventDefault(),d.stopPropagation(),console.log("ð¯ Drop zone dragover"),s(A,!0)}),L("dragleave",o,d=>{d.preventDefault(),d.stopPropagation(),console.log("ð¯ Drop zone dragleave"),s(A,!1)}),L("drop",o,d=>{console.log("ð¯ Drop zone drop event fired!"),fn(d)}),z(i,o)};re(yo,i=>{n(Wt)||i(zl)})}var Za=I(yo,2),Ja=D(Za),Ul=D(Ja);{var Fl=i=>{var o=gf(),d=D(o);hs(d,{size:18});var g=I(d,2);kt(g),si(g,y=>s(rr,y),()=>n(rr));var b=I(g,2);{var S=y=>{var _=ff(),h=D(_);Hn(h,{size:20}),E(_),L("click",_,()=>s(V,"")),z(y,_)};re(b,y=>{n(V)&&y(S)})}E(o),Bt(g,()=>n(V),y=>s(V,y)),L("blur",g,()=>{n(V).trim()||s(St,!1)}),L("keydown",g,y=>{y.key==="Escape"?(s(V,""),s(St,!1)):y.key==="Enter"&&n(le).length===1&&(y.preventDefault(),qr(n(le)[0].Target,n(le)[0].type_field))}),z(i,o)},Wl=i=>{var o=vf(),d=ve(o),g=I(d,2),b=D(g);hs(b,{size:28}),E(g),L("click",d,()=>s(St,!0)),L("click",g,()=>s(St,!0)),z(i,o)};re(Ul,i=>{n(St)?i(Fl):i(Wl,!1)})}E(Ja);var _o=I(Ja,2);{var Hl=i=>{var o=hf(),d=D(o,!0);E(o),de(()=>$e(d,n(m))),z(i,o)};re(_o,i=>{n(m)&&i(Hl)})}var Xa=I(_o,2),Qa=D(Xa),Ao=I(D(Qa),2),Eo=D(Ao);{var Gl=i=>{var o=pf();L("click",o,lo),z(i,o)};re(Eo,i=>{n(je)==="titlebar"&&i(Gl)})}var Xr=I(Eo,2),Bl=D(Xr);{var jl=i=>{tf(i,{size:20})},Vl=i=>{nf(i,{size:20})};re(Bl,i=>{n(Lt)?i(jl):i(Vl,!1)})}E(Xr),E(Ao),E(Qa);var Do=I(Qa,2);{var Yl=i=>{var o=Sf();let d;var g=D(o);{var b=y=>{var _=mf();z(y,_)},S=y=>{var _=Cf(),h=D(_);Nn(h,11,()=>n(le),H=>H.id,(H,v)=>{var k=Df(),M=D(k);let te;var ne=D(M),fe=D(ne);{var be=X=>{var ee=ke(),he=ve(ee);{var Le=tt=>{var Ne=wf();de(()=>{Re(Ne,"src",(n(v),G(()=>n(v).Icon[0].url))),Ke(Ne,`--icon-zoom: ${n(Ie),n(v),G(()=>n(Ie)[n(v).id]||0)??""};`)}),L("load",Ne,_t=>{const Gt=Un(_t.currentTarget);s(Ie,{...n(Ie),[n(v).id]:Gt})}),L("error",Ne,()=>console.error(`â Failed to load image for ${n(v).Name} from URL: ${n(v).Icon[0].url}`)),z(tt,Ne)},Ge=tt=>{var Ne=ke(),_t=ve(Ne);{var Gt=It=>{var Pt=bf();de(st=>{Re(Pt,"src",st),Ke(Pt,`--icon-zoom: ${n(Ie),n(v),G(()=>n(Ie)[n(v).id]||0)??""};`)},[()=>(n(v),G(()=>(()=>{console.log(`ð¼ï¸ Rendering image for ${n(v).Name}`),console.log(`   iconDataUrl length: ${n(v).Icon[0].iconDataUrl.length}`),console.log(`   iconDataUrl preview: ${n(v).Icon[0].iconDataUrl.substring(0,100)}`);const st=Kr(n(v).Icon[0].iconDataUrl);return console.log(`   Converted to blob URL: ${st}`),st})()))]),L("load",Pt,st=>{console.log(`â Image loaded successfully for ${n(v).Name}`);const Sn=Un(st.currentTarget);s(Ie,{...n(Ie),[n(v).id]:Sn})}),L("error",Pt,st=>{console.error(`â Failed to load image for ${n(v).Name}`),console.error(`   Original iconDataUrl type: ${n(v).Icon[0].iconDataUrl.startsWith("blob:")?"blob":n(v).Icon[0].iconDataUrl.startsWith("data:")?"data":"unknown"}`),console.error(`   Original iconDataUrl preview: ${n(v).Icon[0].iconDataUrl.substring(0,100)}`),console.error("   Error event:",st)}),z(It,Pt)};re(_t,It=>{n(v),G(()=>n(v).Icon[0].iconDataUrl)&&It(Gt)},!0)}z(tt,Ne)};re(he,tt=>{n(v),G(()=>n(v).Icon[0].url)?tt(Le):tt(Ge,!1)})}z(X,ee)},ge=X=>{var ee=yf();de(()=>Ke(ee,`width:${n(me)??""}px; height:${n(me)??""}px;`)),z(X,ee)};re(fe,X=>{n(v),G(()=>n(v).Icon&&n(v).Icon[0]&&(n(v).Icon[0].url||n(v).Icon[0].iconDataUrl))?X(be):X(ge,!1)})}var oe=I(fe,2);{var xe=X=>{var ee=_f(),he=D(ee);{let Le=Ar(()=>(n(me),G(()=>Math.max(18,n(me)*.22))));vs(he,{get size(){return n(Le)}})}E(ee),de(Le=>Ke(ee,`--child-badge-size:${Le??""}px;`),[()=>(n(me),G(()=>Math.max(18,n(me)*.22)))]),z(X,ee)};re(oe,X=>{n(sr),n(v),G(()=>!n(sr)&&n(v).Children&&Array.isArray(n(v).Children)&&n(v).Children.length>0)&&X(xe)})}var pe=I(oe,2);{var He=X=>{var ee=Af(),he=D(ee),Le=D(he);sa(Le,{size:20}),E(he),E(ee),L("click",he,ra(async Ge=>{Ge.preventDefault(),await Zr(n(v).id)})),L("keydown",he,ra(async Ge=>{(Ge.key==="Enter"||Ge.key===" ")&&(Ge.preventDefault(),await Zr(n(v).id))})),z(X,ee)};re(pe,X=>{n(v),n(U),G(()=>{var ee,he;return n(v).ownership==="Public"&&n(U)&&!((ee=n(v).owner)!=null&&ee.includes(n(U).id)||(he=n(U).PublicApps)!=null&&he.includes(n(v).id))})&&X(He)})}var ye=I(pe,2);{var Oe=X=>{var ee=Ef(),he=D(ee);{let Le=Ar(()=>(n(me),G(()=>Math.max(24,n(me)*.4))));af(he,{get size(){return n(Le)}})}E(ee),z(X,ee)};re(ye,X=>{n(a),n(v),G(()=>n(a)===n(v).id)&&X(Oe)})}E(ne);var et=I(ne,2),Ve=D(et,!0);E(et),E(M),E(k),de((X,ee,he,Le)=>{te=la(M,1,"icon-wrapper svelte-1uha8ag",null,te,X),Re(M,"data-app-button",(n(v),G(()=>n(v).id))),Re(M,"aria-label",`${ee??""} ${n(v),G(()=>n(v).Name)??""}`),Re(M,"aria-haspopup",he),Re(M,"aria-expanded",Le),Ke(et,`font-size:${n(nr)??""}px;`),$e(Ve,(n(v),G(()=>n(v).Name)))},[()=>{var X,ee;return{"no-icon":!n(v).Icon||!n(v).Icon[0],"is-public-not-added":n(v).ownership==="Public"&&n(U)&&!((X=n(v).owner)!=null&&X.includes(n(U).id)||(ee=n(U).PublicApps)!=null&&ee.includes(n(v).id)),"single-search-result":n(le).length===1&&n(V).trim()!=="","has-children":n(v).Children&&Array.isArray(n(v).Children)&&n(v).Children.length>0,"child-menu-open":n(Ee)===n(v).id,"child-drop-pending":n(r)===n(v).id,"child-drop-ready":n(a)===n(v).id}},()=>(n(v),G(()=>n(v).Children&&Array.isArray(n(v).Children)&&n(v).Children.length>0?"Show child apps for":"Launch")),()=>(n(v),G(()=>n(v).Children&&Array.isArray(n(v).Children)&&n(v).Children.length>0?"menu":void 0)),()=>(n(v),n(Ee),G(()=>n(v).Children&&Array.isArray(n(v).Children)&&n(v).Children.length>0?n(Ee)===n(v).id:void 0))]),L("click",M,async X=>{var ee;console.log("ð±ï¸ Clicked app:",n(v).Name),console.log("   Children field:",n(v).Children),console.log("   Is array?",Array.isArray(n(v).Children)),console.log("   Length:",(ee=n(v).Children)==null?void 0:ee.length),n(v).Children&&Array.isArray(n(v).Children)&&n(v).Children.length>0?n(Ee)===n(v).id?(console.log("   ð Launching parent (menu already open)"),Ht(),qr(n(v).Target,n(v).type_field)):(console.log("   â Opening child menu"),await sl(n(v),X.currentTarget)):(console.log("   ð Launching app"),Ht(),qr(n(v).Target,n(v).type_field))}),L("contextmenu",M,X=>io(X,n(v))),L("dragenter",M,X=>ml(X,n(v).id)),L("dragover",M,X=>wl(X,n(v).id)),L("dragleave",M,X=>bl(X,n(v).id)),L("drop",M,X=>{X.preventDefault(),X.stopPropagation(),n(Ft)===n(v).id&&(s(tr,n(v).id),s(Qt,n(v).id)),fn(X)}),gd(k,()=>Su,()=>({duration:go})),z(H,k)});var p=I(h,2);{var F=H=>{var v=Tf(),k=D(v),M=D(k);{let ne=Ar(()=>(n(me),G(()=>Math.max(14,n(me)*.2))));sa(M,{get size(){return n(ne)}})}E(k);var te=I(k,2);E(v),de(()=>Ke(te,`font-size:${n(nr)??""}px; visibility: hidden;`)),L("click",v,lo),z(H,v)};re(p,H=>{n(je)==="inline"&&H(F)})}E(_),td(_,(H,v)=>vi==null?void 0:vi(H,v),()=>({items:n(le),flipDurationMs:go,type:"apps",dropTargetStyle:{},transformDraggedElement:H=>{if(!H)return;H.style.border="none",H.style.outline="none",H.style.setProperty("--icon-size",`${n(me)}px`);const v=H.querySelector(".icon-container");v&&(v.style.width=`${n(me)}px`,v.style.height=`${n(me)}px`,v.style.overflow="hidden",v.style.borderRadius=`${n(we)}px`);const k=H.querySelector("img");k&&(k.style.width=`${n(me)}px`,k.style.height=`${n(me)}px`)}})),Kn(()=>L("consider",_,Ll)),Kn(()=>L("finalize",_,Rl)),de(()=>Ke(_,`
            /* Auto-fit columns based on icon size */
            grid-template-columns: repeat(auto-fit, ${n(me)??""}px);
            gap: ${n(ie)??""}px;
            --icon-size: ${n(me)??""}px;
            --icon-radius: ${n(we)??""}px;
          `)),z(y,_)};re(g,y=>{n(T)?y(b):y(S,!1)})}E(o),de(()=>d=la(o,1,"container svelte-1uha8ag",null,d,{"drag-active":n(A)})),L("dragover",o,y=>{n(Wt)||(y.preventDefault(),y.stopPropagation(),console.log("ð¯ Main container dragover"),s(A,!0))}),L("dragleave",o,y=>{n(Wt)||(y.preventDefault(),y.stopPropagation(),console.log("ð¯ Main container dragleave"),s(A,!1))}),L("drop",o,y=>{n(Wt)||(y.preventDefault(),y.stopPropagation(),console.log("ð¯ Main container drop"),fn(y))}),z(i,o)};re(Do,i=>{n(Lt)&&i(Yl)})}var Kl=I(Do,2);{var ql=i=>{var o=xf(),d=D(o),g=D(d),b=D(g,!0);E(g);var S=I(g,2),y=D(S);Hn(y,{size:16}),E(S),E(d);var _=I(d,2);Nn(_,5,()=>n(ft),h=>h.id,(h,p)=>{var F=Nf();Re(F,"draggable",!0);var H=D(F),v=D(H);{var k=fe=>{var be=ke(),ge=ve(be);{var oe=pe=>{var He=If();de(()=>{Re(He,"src",(n(p),G(()=>n(p).Icon[0].url))),Ke(He,`--icon-zoom: ${n(Ie),n(p),G(()=>n(Ie)[n(p).id]||0)??""};`)}),L("load",He,ye=>{const Oe=Un(ye.currentTarget);s(Ie,{...n(Ie),[n(p).id]:Oe})}),z(pe,He)},xe=pe=>{var He=ke(),ye=ve(He);{var Oe=et=>{var Ve=Pf();de(X=>{Re(Ve,"src",X),Ke(Ve,`--icon-zoom: ${n(Ie),n(p),G(()=>n(Ie)[n(p).id]||0)??""};`)},[()=>(n(p),G(()=>Kr(n(p).Icon[0].iconDataUrl)))]),L("load",Ve,X=>{const ee=Un(X.currentTarget);s(Ie,{...n(Ie),[n(p).id]:ee})}),z(et,Ve)};re(ye,et=>{n(p),G(()=>n(p).Icon[0].iconDataUrl)&&et(Oe)},!0)}z(pe,He)};re(ge,pe=>{n(p),G(()=>n(p).Icon[0].url)?pe(oe):pe(xe,!1)})}z(fe,be)},M=fe=>{var be=Of();z(fe,be)};re(v,fe=>{n(p),G(()=>n(p).Icon&&n(p).Icon[0]&&(n(p).Icon[0].url||n(p).Icon[0].iconDataUrl))?fe(k):fe(M,!1)})}E(H);var te=I(H,2),ne=D(te,!0);E(te),E(F),de(()=>$e(ne,(n(p),G(()=>n(p).Name)))),L("click",F,()=>{qr(n(p).Target,n(p).type_field),Ht()}),L("contextmenu",F,fe=>io(fe,n(p),n(We))),L("dragstart",F,fe=>hl(fe,n(p).id)),L("dragend",F,ro),z(h,F)}),E(_),E(o),si(o,h=>s(Xe,h),()=>n(Xe)),de(()=>{Ke(o,`top: ${n(Je),G(()=>n(Je).top)??""}px; left: ${n(Je),G(()=>n(Je).left)??""}px;`),Re(o,"data-side",(n(Je),G(()=>n(Je).side))),Re(o,"aria-label",`Child apps for ${n(We),G(()=>{var h;return(h=n(We))==null?void 0:h.Name})??""}`),$e(b,(n(We),G(()=>{var h;return(h=n(We))==null?void 0:h.Name})))}),L("click",S,Ht),L("keydown",o,h=>{h.key==="Escape"&&Ht()}),z(i,o)};re(Kl,i=>{n(Ee),n(ft),n(Je),G(()=>n(Ee)&&n(ft).length>0&&n(Je))&&i(ql)})}E(Xa);var To=I(Xa,2);{var Zl=i=>{var o=Mf(),d=D(o);{var g=p=>{var F=Lf(),H=D(F);of(H,{size:14}),rn(2),E(F),L("click",F,v=>{v.stopPropagation(),Ml(n(ze))}),z(p,F)};re(d,p=>{n(ji)&&p(g)})}var b=I(d,2);{var S=p=>{var F=Rf(),H=D(F);rf(H,{size:14}),rn(2),E(F),L("click",F,v=>{console.log("ð Hide button clicked"),v.stopPropagation(),Sl(n(ze))}),z(p,F)},y=p=>{var F=$f(),H=ve(F),v=D(H);cf(v,{size:14}),rn(2),E(H);var k=I(H,2),M=D(k);ps(M,{size:14}),rn(2),E(k),L("click",H,te=>{console.log("âï¸ Edit button clicked"),te.stopPropagation(),Il(n(ze))}),L("click",k,te=>{console.log("ðï¸ Delete button clicked, event:",te),te.stopPropagation(),console.log("ð About to call deleteApp with:",n(ze)),Tl(n(ze))}),z(p,F)};re(b,p=>{n(ze),n(U),G(()=>{var F;return n(ze).ownership==="Global"||n(ze).ownership==="Public"&&n(U)&&!((F=n(ze).owner)!=null&&F.includes(n(U).id))})?p(S):p(y,!1)})}var _=I(b,2),h=D(_);E(_),E(o),si(o,p=>s(Qn,p),()=>n(Qn)),de(()=>{Ke(o,`left: ${n(Zi)??""}px; top: ${n(Ji)??""}px;`),$e(h,`Ownership: ${n(ze),G(()=>{var p;return((p=n(ze))==null?void 0:p.ownership)??"Unknown"})??""}`)}),L("keydown",o,p=>{p.key==="Escape"&&dn()}),z(i,o)};re(To,i=>{n(ze)&&i(Zl)})}var Co=I(To,2);{var Jl=i=>{var o=kf(),d=ve(o),g=I(d,2),b=D(g),S=D(b),y=I(D(S)),_=D(y,!0);E(y),rn(),E(S);var h=I(S,2),p=D(h),F=I(p,2);E(h),E(b),E(g),de(()=>$e(_,(n(ln),G(()=>n(ln).Name)))),L("click",d,ja),L("keydown",d,H=>{H.key==="Escape"&&ja()}),L("click",p,ja),L("click",F,Cl),z(i,o)};re(Co,i=>{n(ln)&&i(Jl)})}var ei=I(Co,2),ti=D(ei),So=D(ti);So.textContent="v0.1.0";var Xl=I(So,2);{var Ql=i=>{var o=zf(),d=I(ve(o),2),g=D(d,!0);E(d),de(()=>$e(g,n(w))),z(i,o)};re(Xl,i=>{n(w)&&i(Ql)})}E(ti);var Io=I(ti,2),Po=D(Io);{var ec=i=>{var o=Uf(),d=D(o);df(d,{size:16});var g=I(d,2),b=D(g,!0);E(g),E(o),de(()=>$e(b,n(q))),L("click",o,po),z(i,o)};re(Po,i=>{n(q)&&i(ec)})}var Qr=I(Po,2),tc=D(Qr);sf(tc,{size:20}),E(Qr);var ni=I(Qr,2),nc=D(ni);lf(nc,{size:20}),E(ni),E(Io),E(ei);var Oo=I(ei,2);{var rc=i=>{var o=Ff(),d=ve(o),g=I(d,2),b=D(g),S=I(D(b),2),y=D(S);Hn(y,{size:18}),E(S),E(b);var _=I(b,2),h=D(_),p=I(D(h),2);de(()=>{n(ce),hr(()=>{})});var F=D(p);F.value=F.__value="light";var H=I(F);H.value=H.__value="dark";var v=I(H);v.value=v.__value="norge",E(p),E(h);var k=I(h,2),M=I(D(k),2);de(()=>{n(je),hr(()=>{})});var te=D(M);te.value=te.__value="inline";var ne=I(te);ne.value=ne.__value="titlebar",E(M),E(k);var fe=I(k,2),be=I(D(fe),2),ge=D(be);kt(ge);var oe=I(ge,2),xe=D(oe);E(oe),E(be),E(fe);var pe=I(fe,2),He=I(D(pe),2),ye=D(He);kt(ye);var Oe=I(ye,2),et=D(Oe);E(Oe),E(He),E(pe);var Ve=I(pe,2),X=I(D(Ve),2),ee=D(X);kt(ee);var he=I(ee,2),Le=D(he,!0);E(he),E(X),E(Ve);var Ge=I(Ve,2),tt=I(D(Ge),2),Ne=D(tt);kt(Ne);var _t=I(Ne,2),Gt=D(_t);E(_t),E(tt),E(Ge);var It=I(Ge,2),Pt=I(D(It),2),st=D(Pt);kt(st);var Sn=I(st,2),ri=D(Sn);E(Sn),E(Pt),E(It);var ur=I(It,2),ea=I(D(ur),2),In=D(ea);kt(In);var ta=I(In,2),na=D(ta);E(ta),E(ea),E(ur),E(_),E(g),de(()=>{$e(xe,`${n(ue)??""}px`),$e(et,`${n(ie)??""}px`),$e(Le,n(Ae)),$e(Gt,`${n(Se)??""}px`),$e(ri,`${n(_e)??""}px`),$e(na,`${n(we)??""}px`)}),L("click",d,()=>s(C,!1)),L("keydown",d,Ue=>{Ue.key==="Escape"&&s(C,!1)}),L("click",S,()=>s(C,!1)),pr(p,()=>n(ce),Ue=>s(ce,Ue)),L("change",p,()=>{Ga(n(ce)),un()}),pr(M,()=>n(je),Ue=>s(je,Ue)),L("change",M,un),Bt(ge,()=>n(ue),Ue=>s(ue,Ue)),L("change",ge,un),Bt(ye,()=>n(ie),Ue=>s(ie,Ue)),L("change",ye,un),Bt(ee,()=>n(Ae),Ue=>s(Ae,Ue)),L("change",ee,un),Bt(Ne,()=>n(Se),Ue=>s(Se,Ue)),L("change",Ne,un),Bt(st,()=>n(_e),Ue=>s(_e,Ue)),L("change",st,un),Bt(In,()=>n(we),Ue=>s(we,Ue)),L("change",In,un),z(i,o)};re(Oo,i=>{n(C)&&i(rc)})}var No=I(Oo,2);{var ac=i=>{var o=eg(),d=ve(o),g=I(d,2),b=D(g);{var S=K=>{var se=Wf();z(K,se)};re(b,K=>{n(Rt)&&n(Wt)&&K(S)})}var y=I(b,2),_=D(y),h=D(_,!0);E(_);var p=I(_,2),F=D(p);Hn(F,{size:18}),E(p),E(y);var H=I(y,2),v=D(H),k=D(v);kt(k),E(v);var M=I(v,2),te=D(M),ne=D(te);{var fe=K=>{var se=Hf();de(At=>Re(se,"src",At),[()=>(n(De),G(()=>Kr(n(De))))]),z(K,se)},be=K=>{var se=Gf();z(K,se)};re(ne,K=>{n(De)?K(fe):K(be,!1)})}E(te);var ge=I(te,2),oe=D(ge),xe=D(oe);{var pe=K=>{var se=Bf(),At=D(se);ps(At,{size:12}),rn(),E(se),L("click",se,Nl),z(K,se)};re(xe,K=>{n(De)&&K(pe)})}var He=I(xe,2),ye=D(He);sa(ye,{size:12}),rn(),E(He),E(oe),rn(2),E(ge),E(M);var Oe=I(M,2),et=D(Oe),Ve=D(et,!0);E(et);var X=I(et,2);kt(X),E(Oe);var ee=I(Oe,2),he=D(ee),Le=I(D(he),2);de(()=>{n(Ct),hr(()=>{n(J)})});var Ge=D(Le);Ge.value=Ge.__value="web";var tt=I(Ge);tt.value=tt.__value="mac app";var Ne=I(tt);Ne.value=Ne.__value="win app";var _t=I(Ne);_t.value=_t.__value="chrome",E(Le),E(he);var Gt=I(he,2),It=I(D(Gt),2);de(()=>{n(cn),hr(()=>{n(J)})});var Pt=D(It);Pt.value=Pt.__value="Private";var st=I(Pt);st.value=st.__value="Public",E(It),E(Gt),E(ee);var Sn=I(ee,2);{var ri=K=>{var se=jf();z(K,se)};re(Sn,K=>{n(J),G(()=>n(J)&&n(J).Parent&&Array.isArray(n(J).Parent)&&n(J).Parent.length>0)&&K(ri)})}var ur=I(Sn,2);{var ea=K=>{var se=qf(),At=I(D(se),2);{var tn=Te=>{var Ye=Yf(),Mt=ve(Ye);de(()=>{n(ot),hr(()=>{n(or)})});var gn=D(Mt);gn.value=gn.__value="";var fr=I(gn);Nn(fr,1,()=>n(or),Pn=>Pn.id,(Pn,vn)=>{var gr=Vf(),dc=D(gr,!0);E(gr);var Ro={};de(()=>{$e(dc,(n(vn),G(()=>n(vn).Name||n(vn).Target||n(vn).id))),Ro!==(Ro=(n(vn),G(()=>n(vn).id)))&&(gr.value=(gr.__value=(n(vn),G(()=>n(vn).id)))??"")}),z(Pn,gr)}),E(Mt),rn(2),pr(Mt,()=>n(ot),Pn=>s(ot,Pn)),z(Te,Ye)},nn=Te=>{var Ye=Kf();z(Te,Ye)};re(At,Te=>{n(or),G(()=>n(or).length>0)?Te(tn):Te(nn,!1)})}E(se),z(K,se)};re(ur,K=>{n(J)&&K(ea)})}var In=I(ur,2);{var ta=K=>{var se=Qf(),At=I(D(se),2);{var tn=Te=>{var Ye=Jf();Nn(Ye,5,()=>n(ir),Mt=>Mt.id,(Mt,gn)=>{var fr=Zf(),Pn=D(fr,!0);E(fr),de(()=>$e(Pn,(n(gn),G(()=>n(gn).Name||n(gn).Target||n(gn).id)))),z(Mt,fr)}),E(Ye),z(Te,Ye)},nn=Te=>{var Ye=Xf();z(Te,Ye)};re(At,Te=>{n(ir),G(()=>n(ir).length>0)?Te(tn):Te(nn,!1)})}E(se),z(K,se)};re(In,K=>{n(J)&&K(ta)})}var na=I(In,2),Ue=D(na),ai=I(Ue,2),cc=D(ai,!0);E(ai),E(na),E(H),E(g),de((K,se)=>{$e(h,n(J)?"Edit App":"Add New App"),$e(Ve,n(Ct)==="web"?"URL":"Target Path"),Re(X,"placeholder",n(Ct)==="web"?"https://example.com":"Enter target path"),Le.disabled=K,It.disabled=se,$e(cc,n(J)?"Save":"Create")},[()=>(n(J),G(()=>n(J)&&n(J).Parent&&Array.isArray(n(J).Parent)&&n(J).Parent.length>0)),()=>(n(J),G(()=>n(J)&&n(J).Parent&&Array.isArray(n(J).Parent)&&n(J).Parent.length>0))]),L("click",d,dr),L("keydown",d,K=>{K.key==="Escape"&&dr()}),L("dragover",d,K=>{var At,tn;const se=(At=K.dataTransfer)==null?void 0:At.files;if(se&&se.length>0){let nn=!1;for(let Te=0;Te<se.length;Te++){const Ye=se[Te].path||se[Te].webkitRelativePath||se[Te].name,Mt=(tn=Ye==null?void 0:Ye.split(".").pop())==null?void 0:tn.toLowerCase();if(["png","ico","icns"].includes(Mt||"")){nn=!0;break}}if(nn){console.log("ð¨ Overlay dragover - allowing icon file through");return}}K.preventDefault(),K.stopPropagation(),console.log("ð¡ï¸ Overlay dragover - consumed")}),L("dragleave",d,K=>{K.preventDefault(),K.stopPropagation()}),L("drop",d,K=>{var At,tn;const se=(At=K.dataTransfer)==null?void 0:At.files;if(se&&se.length>0){let nn=!1;for(let Te=0;Te<se.length;Te++){const Ye=se[Te].path||se[Te].webkitRelativePath||se[Te].name,Mt=(tn=Ye==null?void 0:Ye.split(".").pop())==null?void 0:tn.toLowerCase();if(["png","ico","icns"].includes(Mt||"")){nn=!0;break}}if(nn){console.log("ð¨ Overlay drop - allowing icon file through");return}}K.preventDefault(),K.stopPropagation(),console.log("ð¡ï¸ Overlay drop - consumed")}),L("click",p,dr),Bt(k,()=>n(ht),K=>s(ht,K)),L("click",He,Ol),L("dragover",M,K=>{K.preventDefault(),K.stopPropagation(),console.log("ð¨ Icon section dragover")}),L("dragleave",M,K=>{K.preventDefault(),K.stopPropagation(),console.log("ð¨ Icon section dragleave")}),L("drop",M,co),L("drop",M,()=>{s(Rt,!1)}),Bt(X,()=>n(Tt),K=>s(Tt,K)),pr(Le,()=>n(Ct),K=>s(Ct,K)),pr(It,()=>n(cn),K=>s(cn,K)),L("click",Ue,dr),L("click",ai,Pl),z(i,o)};re(No,i=>{n(Wt)&&i(ac)})}var xo=I(No,2);{var ic=i=>{var o=ag(),d=ve(o),g=I(d,2),b=D(g),S=I(D(b),2),y=D(S);Hn(y,{size:18}),E(S),E(b);var _=I(b,2),h=D(_);{var p=H=>{var v=ng(),k=I(ve(v),2),M=D(k),te=D(M);te.value=te.__value="";var ne=I(te);Nn(ne,1,()=>n(x),Os,(be,ge)=>{var oe=tg(),xe=D(oe,!0);E(oe);var pe={};de(()=>{$e(xe,(n(ge),G(()=>n(ge).Name||"Unnamed User"))),pe!==(pe=(n(ge),G(()=>n(ge).id)))&&(oe.value=(oe.__value=(n(ge),G(()=>n(ge).id)))??"")}),z(be,oe)});var fe=I(ne);fe.value=fe.__value="__create_new__",E(M),E(k),L("change",M,be=>{const ge=be.currentTarget.value;if(ge==="__create_new__")s(ae,!0);else if(ge){const oe=n(x).find(xe=>xe.id===ge);oe&&mo(oe.id,oe.Name)}}),z(H,v)},F=H=>{var v=rg(),k=I(ve(v),2),M=D(k);kt(M),E(k);var te=I(k,2),ne=D(te),fe=I(ne,2);E(te),Bt(M,()=>n(Z),be=>s(Z,be)),L("keydown",M,be=>{be.key==="Enter"&&wo()}),L("click",ne,()=>{s(ae,!1),s(Z,"")}),L("click",fe,wo),z(H,v)};re(h,H=>{n(ae)?H(F,!1):H(p)})}E(_),E(g),L("click",d,vd(Jr)),L("keydown",d,H=>{H.key==="Escape"&&Jr()}),L("click",S,Jr),z(i,o)};re(xo,i=>{n(W)&&i(ic)})}var Lo=I(xo,2);{var oc=i=>{var o=ig(),d=ve(o),g=I(d,2),b=D(g),S=I(D(b),2),y=D(S);Hn(y,{size:18}),E(S),E(b),E(g),L("click",d,()=>s(Gr,!1)),L("keydown",d,_=>{_.key==="Escape"&&s(Gr,!1)}),L("click",S,()=>s(Gr,!1)),z(i,o)};re(Lo,i=>{n(Gr)&&i(oc)})}var sc=I(Lo,2);{var lc=i=>{var o=gg(),d=I(D(o),2),g=D(d);{var b=y=>{var _=og();z(y,_)},S=y=>{var _=fg();Nn(_,5,()=>n(Br),h=>h.id,(h,p)=>{var F=ug(),H=D(F);let v;var k=D(H),M=D(k);{var te=ye=>{var Oe=ke(),et=ve(Oe);{var Ve=ee=>{var he=sg();de(()=>{Re(he,"src",(n(p),G(()=>n(p).Icon[0].url))),Ke(he,`--icon-zoom: ${n(Ie),n(p),G(()=>n(Ie)[n(p).id]||0)??""};`)}),L("load",he,Le=>{const Ge=Un(Le.currentTarget);s(Ie,{...n(Ie),[n(p).id]:Ge})}),L("error",he,()=>console.error(`â Failed to load image for ${n(p).Name}`)),z(ee,he)},X=ee=>{var he=ke(),Le=ve(he);{var Ge=tt=>{var Ne=lg();de(_t=>{Re(Ne,"src",_t),Ke(Ne,`--icon-zoom: ${n(Ie),n(p),G(()=>n(Ie)[n(p).id]||0)??""};`)},[()=>(n(p),G(()=>Kr(n(p).Icon[0].iconDataUrl)))]),L("load",Ne,_t=>{const Gt=Un(_t.currentTarget);s(Ie,{...n(Ie),[n(p).id]:Gt})}),L("error",Ne,()=>console.error(`â Failed to load image for ${n(p).Name}`)),z(tt,Ne)};re(Le,tt=>{n(p),G(()=>n(p).Icon[0].iconDataUrl)&&tt(Ge)},!0)}z(ee,he)};re(et,ee=>{n(p),G(()=>n(p).Icon[0].url)?ee(Ve):ee(X,!1)})}z(ye,Oe)},ne=ye=>{var Oe=cg();de(()=>Ke(Oe,`width:${n(me)??""}px; height:${n(me)??""}px;`)),z(ye,Oe)};re(M,ye=>{n(p),G(()=>n(p).Icon&&n(p).Icon[0]&&(n(p).Icon[0].url||n(p).Icon[0].iconDataUrl))?ye(te):ye(ne,!1)})}var fe=I(M,2);{var be=ye=>{var Oe=dg(),et=D(Oe);{let Ve=Ar(()=>(n(me),G(()=>Math.max(18,n(me)*.22))));vs(et,{get size(){return n(Ve)}})}E(Oe),de(Ve=>Ke(Oe,`--child-badge-size:${Ve??""}px;`),[()=>(n(me),G(()=>Math.max(18,n(me)*.22)))]),z(ye,Oe)};re(fe,ye=>{n(sr),n(p),G(()=>!n(sr)&&n(p).Children&&Array.isArray(n(p).Children)&&n(p).Children.length>0)&&ye(be)})}var ge=I(fe,2),oe=D(ge),xe=D(oe);sa(xe,{size:24}),E(oe),E(ge),E(k);var pe=I(k,2),He=D(pe,!0);E(pe),E(H),E(F),de(()=>{v=la(H,1,"icon-wrapper browser-app-button svelte-1uha8ag",null,v,{"no-icon":!n(p).Icon||!n(p).Icon[0]}),Re(H,"aria-label",`View ${n(p),G(()=>n(p).Name)??""}`),Re(oe,"aria-label",`Add ${n(p),G(()=>n(p).Name)??""}`),Ke(pe,`font-size:${n(nr)??""}px;`),$e(He,(n(p),G(()=>n(p).Name)))}),L("click",oe,ra(()=>{n(p).ownership==="Global"?so(n(p).id):Zr(n(p).id)})),L("keydown",oe,ra(ye=>{(ye.key==="Enter"||ye.key===" ")&&(ye.preventDefault(),n(p).ownership==="Global"?so(n(p).id):Zr(n(p).id))})),z(h,F)}),E(_),de(()=>Ke(_,`
              grid-template-columns: repeat(auto-fit, ${n(me)??""}px);
              gap: ${n(ie)??""}px;
              --icon-size: ${n(me)??""}px;
              --icon-radius: ${n(we)??""}px;
            `)),z(y,_)};re(g,y=>{n(Br),G(()=>n(Br).length===0)?y(b):y(S,!1)})}E(d),E(o),z(i,o)};re(sc,i=>{n(V),G(()=>n(V).trim())&&i(lc)})}E(Za),de(()=>Re(Xr,"aria-label",n(Lt)?"Collapse":"Expand")),L("click",Xr,()=>s(Lt,!n(Lt))),L("click",Qr,$t),L("click",ni,()=>s(C,!n(C))),L("dblclick",Za,()=>{n(V).trim()&&s(V,"")}),z(e,bo),Is()}export{Dg as component};
